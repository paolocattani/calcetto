{"version":3,"sources":["components/Player/helper.js","../node_modules/react-select/animated/dist/react-select.browser.esm.js","components/Player/select.jsx","components/Pair/helper.js","components/Stage1/header.tsx","components/Stage1/helper.js","components/Stage1/table.jsx","components/Stage1/handler.tsx","components/Stage1/wrapper.tsx"],"names":["nameFilter","surnameFilter","aliasFilter","roleFilter","emailFilter","phoneFilter","selectOptions","Portiere","Attaccante","Master","clearAllFilter","playerColumns","isEditable","dataField","text","editable","headerStyle","column","colIndex","width","headerClasses","autoSelectText","filter","textFilter","placeholder","getFilter","selectFilter","options","editor","type","Type","SELECT","getOptions","_","value","label","hidden","valueFormatter","selectedOption","alias","surname","name","getEmptyPlayer","id","role","email","phone","match_played","match_won","total_score","AnimatedInput","WrappedComponent","_ref","in","onExited","appear","enter","exit","props","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","_objectWithoutPropertiesLoose","React","createElement","_extends","assign","arguments","prototype","hasOwnProperty","call","apply","this","Fade","Tag","component","_ref$duration","duration","inProp","_objectWithoutPropertiesLoose$1","transition","entering","opacity","entered","exiting","exited","Transition","mountOnEnter","unmountOnExit","timeout","state","innerProps","style","Collapse","_Component","subClass","superClass","_this","_len","args","Array","_key","concat","rafID","getWidth","ref","isNaN","window","requestAnimationFrame","getBoundingClientRect","setState","getStyle","overflow","whiteSpace","getTransition","create","constructor","__proto__","_proto","componentWillUnmount","cancelAnimationFrame","render","_this2","_this$props","children","Component","_extends$1","AnimatedMultiValue","_objectWithoutPropertiesLoose$2","cropWithEllipsis","_extends$2","_extends$3","AnimatedSingleValue","_extends$4","AnimatedValueContainer","TransitionGroup","_extends$5","makeAnimated","externalComponents","components","defaultComponents","Input","MultiValue","Placeholder","SingleValue","ValueContainer","rest","_objectWithoutPropertiesLoose$3","isMulti","AnimatedComponents","index","memoizeOne","exportedEqual","animatedComponents","PlayerSelection","forwardRef","useState","setSelectedOption","row","columnIndex","onUpdate","onSelect","styles","onChange","pairId","isSearchable","isClearable","columns","align","editorRenderer","editorProps","rowIndex","customStyles","toUpperCase","split","map","e","CHECKBOX","content","backgroundColor","cellEditProps","cellEditFactory","mode","blurToSave","afterSaveCell","oldValue","newValue","a","fetch","method","headers","body","JSON","stringify","response","json","getEmptyRowModel","rowNumber","tId","player1","player2","pairAlias","stage1Name","paid1","paid2","fetchData","rows","result","players","console","log","tournament","fetchPairs","setterFunction","option","provided","color","input","control","height","marginBottom","singleValue","valueContainer","fontSize","tableHeader","title","saved","divStyle","undefined","newColumn","toString","headerAlign","cell","parseInt","pairsList","baseColumns","ii","push","comparator","obj1","obj2","total","Stage1Table","tableName","updateCellValue","selectedRows","setSelectedRows","beforeSaveCell","startsWith","getOpposite","acc","sort","e1","e2","forEach","handleOnSelect","isSelected","found","find","selectRow","onSelectAll","SessionContext","Consumer","session","bootstrap4","keyField","data","cellEdit","noDataIndication","wrapperClasses","caption","striped","hover","Stage1Handler","isLoading","setIsLoading","setIsSaved","pair","jj","rowsGenerator","setRows","model1","score","pair1Id","pair2Id","ok","setTimeout","useEffect","stageName","Wrapper","useParams","setPairsList","currentHistory","useHistory","localeCompare","ListGroup","Item","className","Button","variant","onClick","stage","stageList","element","renderTables"],"mappings":"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","file":"static/js/11.5d266b8b.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\n\r\n// options for role column\r\nconst selectOptions = {\r\n  Portiere: 'Portiere',\r\n  Attaccante: 'Attaccante',\r\n  Master: 'Master'\r\n};\r\n\r\n// Filter\r\nlet nameFilter;\r\nlet surnameFilter;\r\nlet aliasFilter;\r\nlet roleFilter;\r\nlet emailFilter;\r\nlet phoneFilter;\r\n\r\nexport function clearAllFilter() {\r\n  nameFilter('');\r\n  surnameFilter('');\r\n  aliasFilter('');\r\n  roleFilter('');\r\n  emailFilter('');\r\n  phoneFilter('');\r\n}\r\n\r\n// Columns default\r\nconst playerColumns = isEditable => [\r\n  { dataField: 'id', text: 'ID', editable: false, headerStyle: (column, colIndex) => ({ width: '3%' }) },\r\n  {\r\n    dataField: 'name',\r\n    text: 'Nome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (nameFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'surname',\r\n    text: 'Cognome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (surnameFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'alias',\r\n    text: 'Alias',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '17%' : '25%' }),\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (aliasFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'role',\r\n    text: 'Roulo',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: `${isEditable ? '11' : '15'}%` }),\r\n    filter: selectFilter({\r\n      placeholder: 'Filtra...',\r\n      options: selectOptions,\r\n      getFilter: filter => (roleFilter = filter)\r\n    }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      getOptions: _ => {\r\n        return [\r\n          { value: 'Portiere', label: 'Portiere' },\r\n          { value: 'Attaccante', label: 'Attaccante' },\r\n          { value: 'Master', label: 'Master' }\r\n        ];\r\n      }\r\n    }\r\n  },\r\n  {\r\n    dataField: 'email',\r\n    text: 'Email',\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (emailFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'phone',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    text: 'Telefono',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (phoneFilter = filter)\r\n    })\r\n  },\r\n  { dataField: 'match_played', text: 'Partite Giocate', hidden: true },\r\n  { dataField: 'match_won', text: 'Vittorie', hidden: true },\r\n  { dataField: 'total_score', text: 'Punteggio', hidden: true }\r\n];\r\n\r\nexport default playerColumns;\r\n\r\n// Custom export button\r\nexport const ExportCSVButton = props => {\r\n  return (\r\n    <Button disabled className=\"btn btn-success\" onClick={() => props.onExport()}>\r\n      Esporta in CSV\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport const fetchPlayers = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(tId ? `/api/v1/player/list/${tId}` : '/api/v1/player/list', {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result = await response.json();\r\n    const model = [...result, getEmptyPlayer('Nessun Giocatore')];\r\n    console.log('fetchPlayers.result : ', model);\r\n    setterFunction(model);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  let value = '';\r\n  if (!selectedOption) return '';\r\n  if (selectedOption.alias) {\r\n    value = selectedOption.alias;\r\n  } else {\r\n    value = selectedOption.surname ? `${selectedOption.name} - ${selectedOption.surname}` : selectedOption.name;\r\n  }\r\n  return value;\r\n}\r\n\r\nexport function getEmptyPlayer(label) {\r\n  return {\r\n    id: null,\r\n    name: '',\r\n    surname: '',\r\n    alias: '',\r\n    label: label || '',\r\n    role: 'Portiere',\r\n    email: '',\r\n    phone: '',\r\n    match_played: 0,\r\n    match_won: 0,\r\n    total_score: 0,\r\n    editable: false\r\n  };\r\n}\r\n","import React, { Component } from 'react';\nimport memoizeOne from 'memoize-one';\nimport '@emotion/core';\nimport 'react-dom';\nimport 'prop-types';\nimport '../../dist/utils-06b0d5a4.browser.esm.js';\nimport { x as exportedEqual, w as defaultComponents } from '../../dist/index-4322c0ed.browser.esm.js';\nimport '@emotion/css';\nimport 'react-input-autosize';\nimport { Transition, TransitionGroup } from 'react-transition-group';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n// strip transition props off before spreading onto select component\n// note we need to be explicit about innerRef for flow\nvar AnimatedInput = function AnimatedInput(WrappedComponent) {\n  return function (_ref) {\n    var inProp = _ref.in,\n        onExited = _ref.onExited,\n        appear = _ref.appear,\n        enter = _ref.enter,\n        exit = _ref.exit,\n        props = _objectWithoutPropertiesLoose(_ref, [\"in\", \"onExited\", \"appear\", \"enter\", \"exit\"]);\n\n    return React.createElement(WrappedComponent, props);\n  };\n};\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar Fade = function Fade(_ref) {\n  var Tag = _ref.component,\n      _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 1 : _ref$duration,\n      inProp = _ref.in,\n      onExited = _ref.onExited,\n      props = _objectWithoutPropertiesLoose$1(_ref, [\"component\", \"duration\", \"in\", \"onExited\"]);\n\n  var transition = {\n    entering: {\n      opacity: 0\n    },\n    entered: {\n      opacity: 1,\n      transition: \"opacity \" + duration + \"ms\"\n    },\n    exiting: {\n      opacity: 0\n    },\n    exited: {\n      opacity: 0\n    }\n  };\n  return React.createElement(Transition, {\n    mountOnEnter: true,\n    unmountOnExit: true,\n    in: inProp,\n    timeout: duration\n  }, function (state) {\n    var innerProps = {\n      style: _extends({}, transition[state])\n    };\n    return React.createElement(Tag, _extends({\n      innerProps: innerProps\n    }, props));\n  });\n}; // ==============================\n// Collapse Transition\n// ==============================\n\nvar collapseDuration = 260;\n// wrap each MultiValue with a collapse transition; decreases width until\n// finally removing from DOM\nvar Collapse =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Collapse, _Component);\n\n  function Collapse() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.duration = collapseDuration;\n    _this.rafID = void 0;\n    _this.state = {\n      width: 'auto'\n    };\n    _this.transition = {\n      exiting: {\n        width: 0,\n        transition: \"width \" + _this.duration + \"ms ease-out\"\n      },\n      exited: {\n        width: 0\n      }\n    };\n\n    _this.getWidth = function (ref) {\n      if (ref && isNaN(_this.state.width)) {\n        /*\n          Here we're invoking requestAnimationFrame with a callback invoking our\n          call to getBoundingClientRect and setState in order to resolve an edge case\n          around portalling. Certain portalling solutions briefly remove children from the DOM\n          before appending them to the target node. This is to avoid us trying to call getBoundingClientrect\n          while the Select component is in this state.\n        */\n        // cannot use `offsetWidth` because it is rounded\n        _this.rafID = window.requestAnimationFrame(function () {\n          var _ref$getBoundingClien = ref.getBoundingClientRect(),\n              width = _ref$getBoundingClien.width;\n\n          _this.setState({\n            width: width\n          });\n        });\n      }\n    };\n\n    _this.getStyle = function (width) {\n      return {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        width: width\n      };\n    };\n\n    _this.getTransition = function (state) {\n      return _this.transition[state];\n    };\n\n    return _this;\n  }\n\n  var _proto = Collapse.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.rafID) {\n      window.cancelAnimationFrame(this.rafID);\n    }\n  } // width must be calculated; cannot transition from `undefined` to `number`\n  ;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        inProp = _this$props.in;\n    var width = this.state.width;\n    return React.createElement(Transition, {\n      enter: false,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      in: inProp,\n      timeout: this.duration\n    }, function (state) {\n      var style = _extends({}, _this2.getStyle(width), _this2.getTransition(state));\n\n      return React.createElement(\"div\", {\n        ref: _this2.getWidth,\n        style: style\n      }, children);\n    });\n  };\n\n  return Collapse;\n}(Component);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose$2(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar AnimatedMultiValue = function AnimatedMultiValue(WrappedComponent) {\n  return function (_ref) {\n    var inProp = _ref.in,\n        onExited = _ref.onExited,\n        props = _objectWithoutPropertiesLoose$2(_ref, [\"in\", \"onExited\"]);\n\n    return React.createElement(Collapse, {\n      in: inProp,\n      onExited: onExited\n    }, React.createElement(WrappedComponent, _extends$1({\n      cropWithEllipsis: inProp\n    }, props)));\n  };\n};\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\n\nvar AnimatedPlaceholder = function AnimatedPlaceholder(WrappedComponent) {\n  return function (props) {\n    return React.createElement(Fade, _extends$2({\n      component: WrappedComponent,\n      duration: props.isMulti ? collapseDuration : 1\n    }, props));\n  };\n};\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\n\nvar AnimatedSingleValue = function AnimatedSingleValue(WrappedComponent) {\n  return function (props) {\n    return React.createElement(Fade, _extends$3({\n      component: WrappedComponent\n    }, props));\n  };\n};\n\nfunction _extends$4() { _extends$4 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$4.apply(this, arguments); }\n\n// make ValueContainer a transition group\nvar AnimatedValueContainer = function AnimatedValueContainer(WrappedComponent) {\n  return function (props) {\n    return React.createElement(TransitionGroup, _extends$4({\n      component: WrappedComponent\n    }, props));\n  };\n};\n\nfunction _extends$5() { _extends$5 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$5.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose$3(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar makeAnimated = function makeAnimated(externalComponents) {\n  if (externalComponents === void 0) {\n    externalComponents = {};\n  }\n\n  var components = defaultComponents({\n    components: externalComponents\n  });\n\n  var Input = components.Input,\n      MultiValue = components.MultiValue,\n      Placeholder = components.Placeholder,\n      SingleValue = components.SingleValue,\n      ValueContainer = components.ValueContainer,\n      rest = _objectWithoutPropertiesLoose$3(components, [\"Input\", \"MultiValue\", \"Placeholder\", \"SingleValue\", \"ValueContainer\"]);\n\n  return _extends$5({\n    Input: AnimatedInput(Input),\n    MultiValue: AnimatedMultiValue(MultiValue),\n    Placeholder: AnimatedPlaceholder(Placeholder),\n    SingleValue: AnimatedSingleValue(SingleValue),\n    ValueContainer: AnimatedValueContainer(ValueContainer)\n  }, rest);\n};\n\nvar AnimatedComponents = makeAnimated();\nvar Input = AnimatedComponents.Input;\nvar MultiValue = AnimatedComponents.MultiValue;\nvar Placeholder = AnimatedComponents.Placeholder;\nvar SingleValue = AnimatedComponents.SingleValue;\nvar ValueContainer = AnimatedComponents.ValueContainer;\nvar index = memoizeOne(makeAnimated, exportedEqual);\n\nexport default index;\nexport { Input, MultiValue, Placeholder, SingleValue, ValueContainer };\n","import React, { useState } from 'react';\r\nimport Select from 'react-select';\r\nimport { valueFormatter } from './helper';\r\nimport makeAnimated from 'react-select/animated';\r\n\r\n// Probabilmente il componente Select usa Ref.... Lascio cosi..\r\nconst animatedComponents = makeAnimated();\r\n\r\nconst PlayerSelection = React.forwardRef((props, ref) => {\r\n  const [selectedOption, setSelectedOption] = useState();\r\n  const { row, columnIndex, id, onUpdate, onSelect, options } = props;\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  function getValue() {\r\n    return valueFormatter(selectedOption);\r\n  }\r\n\r\n  const handleChange = selectedOption => {\r\n    selectedOption.pairId = id;\r\n    setSelectedOption(selectedOption);\r\n    const value = valueFormatter(selectedOption);\r\n    onUpdate(value);\r\n    onSelect(selectedOption, row.id, columnIndex);\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      styles={props.styles || null}\r\n      components={animatedComponents}\r\n      options={options}\r\n      onChange={handleChange}\r\n      value={selectedOption}\r\n      placeholder=\"Cerca...\"\r\n      isSearchable\r\n      isClearable\r\n    />\r\n  );\r\n});\r\n\r\nexport default PlayerSelection;\r\n","import React from 'react';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport PlayerSelect from '../Player/select';\r\nimport { getEmptyPlayer } from '../Player/helper';\r\n\r\nexport const columns = (onSelect, options) => [\r\n  { dataField: 'id', text: 'ID', editable: false, hidden: true, align: () => 'center' },\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, align: () => 'center' },\r\n  {\r\n    dataField: 'player1.alias',\r\n    text: 'Giocatore 1',\r\n    align: () => 'center',\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n      <PlayerSelect\r\n        {...editorProps}\r\n        id={columnIndex}\r\n        row={row}\r\n        rowIndex={rowIndex}\r\n        columnIndex={columnIndex}\r\n        value={value}\r\n        onSelect={onSelect}\r\n        options={options}\r\n        styles={customStyles}\r\n      />\r\n    ),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' })\r\n  },\r\n  {\r\n    dataField: 'player2.alias',\r\n    text: 'Giocatore 2',\r\n    align: () => 'center',\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n      <PlayerSelect\r\n        {...editorProps}\r\n        id={columnIndex}\r\n        row={row}\r\n        rowIndex={rowIndex}\r\n        columnIndex={columnIndex}\r\n        value={value}\r\n        onSelect={onSelect}\r\n        options={options}\r\n        styles={customStyles}\r\n      />\r\n    ),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' })\r\n  },\r\n  { dataField: 'pairAlias', text: 'Alias Coppia', headerStyle: (column, colIndex) => ({ width: '25%' }) },\r\n  {\r\n    dataField: 'stage1Name',\r\n    text: 'Nome girone',\r\n    align: () => 'center',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: 'abcdefghijklmnopqrstuvwxyz'\r\n        .toUpperCase()\r\n        .split('')\r\n        .map(e => {\r\n          return { value: e, label: e };\r\n        })\r\n    }\r\n  },\r\n  {\r\n    dataField: 'paid1',\r\n    text: 'Pagato 1',\r\n    align: () => 'center',\r\n    headerStyle: (column, colIndex) => ({ width: '7,5%' }),\r\n    editor: {\r\n      type: Type.CHECKBOX,\r\n      value: 'Si:No'\r\n    },\r\n    /*\r\n    formatter: (cell, row, rowIndex) => {\r\n      console.log(cell);\r\n      return (\r\n        <InputGroup>\r\n          <InputGroup.Checkbox style={{ margin: 'auto' }} onCancechecked={cell}></InputGroup.Checkbox>\r\n        </InputGroup>\r\n      );\r\n    },*/\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (content !== 'Si') return { backgroundColor: '#ffbf47' };\r\n    }\r\n  },\r\n  {\r\n    dataField: 'paid2',\r\n    text: 'Pagato 2',\r\n    align: () => 'center',\r\n    headerStyle: (column, colIndex) => ({ width: '7,5%' }),\r\n    editor: {\r\n      type: Type.CHECKBOX,\r\n      value: 'Si:No'\r\n    },\r\n    /*\r\n    formatter: (cell, row, rowIndex) => {\r\n      console.log(cell);\r\n      return (\r\n        <InputGroup>\r\n          <InputGroup.Checkbox style={{ margin: 'auto' }} onCancechecked={cell}></InputGroup.Checkbox>\r\n        </InputGroup>\r\n      );\r\n    },*/\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (content !== 'Si') return { backgroundColor: '#ffbf47' };\r\n    }\r\n  }\r\n];\r\n\r\nexport const cellEditProps = editable =>\r\n  cellEditFactory({\r\n    mode: editable ? 'click' : 'none',\r\n    blurToSave: true,\r\n    afterSaveCell: (oldValue, newValue, row, column) => {\r\n      // Aggiornamento per queste due colonne viene eseguito dalla funzione onSelect\r\n      if (column.dataField === 'player1.alias' || column.dataField === 'player2.alias') return;\r\n      (async () => {\r\n        const response = await fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row)\r\n        });\r\n        await response.json();\r\n      })();\r\n    }\r\n  });\r\n\r\nexport function getEmptyRowModel() {\r\n  return {\r\n    id: null,\r\n    rowNumber: null,\r\n    tId: null,\r\n    player1: getEmptyPlayer(),\r\n    player2: getEmptyPlayer(),\r\n    pairAlias: '',\r\n    stage1Name: '',\r\n    paid1: 'No',\r\n    paid2: 'No'\r\n  };\r\n}\r\n\r\nexport const fetchData = async tId => {\r\n  // Fetch Pairs\r\n  let response = await fetch(`/api/v1/pair/list/?tId=${tId}`, {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const rows = await response.json();\r\n\r\n  response = await fetch(tId ? `/api/v1/player/list/${tId}` : '/api/v1/player/list', {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const result = await response.json();\r\n  const players = [...result, getEmptyPlayer('Nessun Giocatore')];\r\n  console.log('playerList : ', result);\r\n\r\n  // Fetch Tournament\r\n  response = await fetch(`/api/v1/tournament/${tId}`, {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const tournament = await response.json();\r\n\r\n  return { rows, players, tournament };\r\n};\r\n\r\nexport const fetchPairs = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(`/api/v1/pair/list/?tId=${tId}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result = await response.json();\r\n    setterFunction(result);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  console.log('valueFormatter : ', selectedOption);\r\n  if (selectedOption.pairAlias && selectedOption.pairAlias !== '')\r\n    return `${selectedOption.pairAlias} ( ${selectedOption.id} )`;\r\n  return createAlias(selectedOption);\r\n}\r\n\r\nexport function createAlias(selectedOption) {\r\n  console.log('createAlias : ', selectedOption);\r\n  let value = `${selectedOption.rowNumber} : `;\r\n  const { player1, player2, id } = selectedOption;\r\n  value += player1.alias ? player1.alias : player1.name;\r\n  value += ' - ' + player2.alias ? player2.alias : player2.name;\r\n  value += ` ( ${id} )`;\r\n  return value;\r\n}\r\n\r\nconst customStyles = {\r\n  // menuList: (provided, state) => ({ ...provided, border: '1px solid #ffc107' }),\r\n  option: (provided, state) => ({\r\n    ...provided,\r\n    backgroundColor: 'white',\r\n    color: 'black',\r\n    '&:hover': {\r\n      backgroundColor: '#64bd9c',\r\n      color: 'white'\r\n    }\r\n  }),\r\n  input: (provided, state) => ({ ...provided, backgroundColor: '#64bd9c' }),\r\n  control: provided => ({ ...provided, height: '3vmin', marginBottom: 'auto' }),\r\n  singleValue: (provided, state) => ({ ...provided }),\r\n  valueContainer: provided => ({ ...provided, height: '100%', fontSize: 'larger' })\r\n};\r\n","import React from 'react';\r\nimport { headerPropsType } from './type';\r\n\r\nconst tableHeader: React.FC<headerPropsType> = ({ title, saved }: headerPropsType) => {\r\n  const divStyle = {\r\n    color: saved ? '#4feb34' : undefined\r\n  };\r\n  return (\r\n    <h3>\r\n      <b style={divStyle}>\r\n        Girone - <strong>{title}</strong>\r\n      </b>\r\n      {saved ? <small> - Salvataggio in corso...</small> : null}\r\n    </h3>\r\n  );\r\n};\r\n\r\nexport default tableHeader;\r\n","import { Type } from 'react-bootstrap-table2-editor';\r\n\r\nconst newColumn = (index, rowNumber) => {\r\n  return {\r\n    id: `col${index}`,\r\n    dataField: `col${index}`,\r\n    text: index.toString(),\r\n    //type: 'number',\r\n    headerStyle: (column, colIndex) => ({ width: `${75 / rowNumber}%` }),\r\n    headerAlign: (column, colIndex) => 'center',\r\n    editable: (content, row, rowIndex, columnIndex) => rowIndex !== columnIndex - 2,\r\n    align: (cell, row, rowIndex, colIndex) => 'center',\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (rowIndex === columnIndex - 2) return { backgroundColor: '#343a40' };\r\n      if (parseInt(content, 10) === 3 || parseInt(content, 10) === 2) return { backgroundColor: 'rgb(196, 247, 160)' };\r\n      if (parseInt(content, 10) === 1 || parseInt(content, 10) === 0) return { backgroundColor: 'rgb(255, 147, 147)' };\r\n      return null;\r\n    },\r\n    /* TODO:\r\n    editorStyle: (cell, row, rowIndex, colIndex) => {\r\n      console.log('editorStyle : ', cell, row, rowIndex, colIndex);\r\n      return { width: '100%', height: 'auto' };\r\n    }, */\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: [\r\n        { value: '3', label: '3' },\r\n        { value: '2', label: '2' },\r\n        { value: '1', label: '1' },\r\n        { value: '0', label: '0' },\r\n        { value: null, label: '' }\r\n      ]\r\n    }\r\n  };\r\n};\r\n\r\nexport function rowsGenerator(pairsList) {\r\n  let rows = [];\r\n  for (let ii = 0; ii < pairsList.length; ii++) {\r\n    rows.push({ pair: pairsList[ii], rowNumber: ii + 1 });\r\n    for (let jj = 1; jj <= pairsList.length; jj++) {\r\n      rows[ii][`col${jj}`] = null;\r\n    }\r\n    rows[ii]['total'] = 0;\r\n    rows[ii]['place'] = 0;\r\n    rows[ii]['id'] = `row-${pairsList[0].tId}-${ii}`;\r\n  }\r\n  return rows;\r\n}\r\n\r\nexport const columns = (onSelect, pairsList) => {\r\n  let baseColumns = [\r\n    {\r\n      // Nome Coppia ( In realta contiene un oggetto di tipo Pair)\r\n      id: 'pairLabel',\r\n      dataField: 'pair.label',\r\n      text: 'Nome Coppia',\r\n      editable: false,\r\n      headerStyle: (column, colIndex) => ({ width: '15%' }),\r\n      align: (cell, row, rowIndex, colIndex) => 'center',\r\n      headerAlign: (column, colIndex) => 'center'\r\n    },\r\n    {\r\n      // Numbero riga per riferimento visivo\r\n      id: 'rowNumber',\r\n      dataField: 'rowNumber',\r\n      text: 'ID',\r\n      editable: false,\r\n      type: 'number',\r\n      headerStyle: (column, colIndex) => ({ width: '5%' }),\r\n      headerAlign: (column, colIndex) => 'center',\r\n      style: (content, row, rowIndex, columnIndex) => {\r\n        return { backgroundColor: '#f9ffdb' };\r\n      }\r\n    }\r\n  ];\r\n\r\n  // generazione dinamica colonne intermedie\r\n  for (let ii = 0; ii < pairsList.length; ii++) {\r\n    baseColumns.push(newColumn(ii + 1, pairsList.length));\r\n  }\r\n\r\n  baseColumns.push(\r\n    {\r\n      // Totale coppia\r\n      id: 'totale',\r\n      dataField: 'total',\r\n      text: 'Totale',\r\n      editable: false,\r\n      type: 'number',\r\n      headerStyle: (column, colIndex) => ({ width: '5%' }),\r\n      headerAlign: (column, colIndex) => 'center'\r\n    },\r\n    {\r\n      // Posizionamento coppia\r\n      id: 'place',\r\n      dataField: 'place',\r\n      text: 'Posizione',\r\n      editable: true,\r\n      type: 'number',\r\n      headerStyle: (column, colIndex) => ({ width: '5%' }),\r\n      headerAlign: (column, colIndex) => 'center'\r\n    }\r\n  );\r\n  return baseColumns;\r\n};\r\n\r\n/**\r\n *\r\n * @param value il valore di partenza\r\n * @returns il valore opposto a quello di partenze\r\n *\r\n *  3->0 , 2->1 , 1->2 , 0->3\r\n */\r\nexport function getOpposite(value) {\r\n  /*\r\n   * Attenzione :\r\n   *  !0 = true\r\n   *  !''  = true\r\n   *  !null   = true\r\n   *  !undefined  = true\r\n   */\r\n  if (value === null) return null;\r\n  switch (parseInt(value)) {\r\n    case 3:\r\n      return 0;\r\n    case 2:\r\n      return 1;\r\n    case 1:\r\n      return 2;\r\n    case 0:\r\n      return 3;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} obj1\r\n * @param {*} obj2\r\n */\r\nexport function comparator(obj1, obj2) {\r\n  // in caso di parit√† valuto scontro diretto\r\n  if (obj1.total === obj2.total) {\r\n    if (obj1[`col${obj2.rowNumber}`] === 3 || obj1[`col${obj2.rowNumber}`] === 2) {\r\n      return -1;\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n  return obj2.total - obj1.total;\r\n}\r\n","import React, { useState } from 'react';\r\n// table\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\n// helper\r\n\r\nimport TableHeader from './header';\r\nimport { getOpposite, comparator } from './helper';\r\nimport { SessionContext } from '../core/routing/SessionContext';\r\n\r\n// style\r\nimport './style.css';\r\n\r\nconst Stage1Table = ({ rows, columns, tableName, updateCellValue, saved }) => {\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n\r\n  const cellEditProps = editable =>\r\n    cellEditFactory({\r\n      mode: editable ? 'click' : 'none',\r\n      blurToSave: true,\r\n      beforeSaveCell: (oldValue, newValue, row, column) => {\r\n        if (column.id.startsWith('col')) {\r\n          // Aggiorno cella opposta\r\n          rows[parseInt(column.text) - 1][`col${row.rowNumber}`] = getOpposite(newValue);\r\n        }\r\n      },\r\n      afterSaveCell: (oldValue, newValue, row, column) => {\r\n        if (column.id.startsWith('col')) {\r\n          // Aggiorno dati sul Db\r\n          updateCellValue(oldValue, newValue, row, column);\r\n\r\n          // Ricalcolo totali riga\r\n          let acc = 0;\r\n          for (let key in row) if (key.startsWith('col') && row[key]) acc += parseInt(row[key]);\r\n          rows[row.rowNumber - 1]['total'] = acc ? acc : null;\r\n\r\n          //... e riga opposta\r\n          acc = 0;\r\n          for (let key in rows[parseInt(column.text) - 1])\r\n            if (key.startsWith('col') && rows[parseInt(column.text) - 1][key])\r\n              acc += parseInt(rows[parseInt(column.text) - 1][key]);\r\n          rows[parseInt(column.text) - 1]['total'] = acc ? acc : null;\r\n        }\r\n        // Aggiorno posizione relativa\r\n        [...rows]\r\n          .sort((e1, e2) => comparator(e1, e2))\r\n          .forEach((row, index) => (rows[row.rowNumber - 1]['place'] = index + 1));\r\n      }\r\n    });\r\n\r\n  const handleOnSelect = (row, isSelected) => {\r\n    setSelectedRows(() => {\r\n      const found = selectedRows.find(e => e.rowNumber === row.rowNumber) ? true : false;\r\n      if (isSelected) {\r\n        return found ? selectedRows : [row, ...selectedRows];\r\n      } else {\r\n        return found ? selectedRows.filter(e => e.rowNumber !== row.rowNumber) : selectedRows;\r\n      }\r\n    });\r\n    // return true or dont return to approve current select action\r\n    return true;\r\n  };\r\n\r\n  const selectRow = {\r\n    mode: 'checkbox',\r\n    onSelect: handleOnSelect,\r\n    onSelectAll: (isSelected, rows) => rows.forEach(row => handleOnSelect(row, isSelected)),\r\n    style: { backgroundColor: '#c8e6c9' }\r\n  };\r\n\r\n  return (\r\n    <SessionContext.Consumer>\r\n      {([session]) => (\r\n        <BootstrapTable\r\n          bootstrap4\r\n          keyField=\"id\"\r\n          data={rows}\r\n          columns={columns}\r\n          selectRow={selectRow}\r\n          cellEdit={cellEditProps(session.isEditable)}\r\n          noDataIndication=\"Nessun dato reperito\"\r\n          wrapperClasses=\"player-table\"\r\n          headerClasses=\"player-table-header\"\r\n          caption={<TableHeader title={tableName} saved={saved} />}\r\n          striped\r\n          hover\r\n        />\r\n      )}\r\n    </SessionContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default Stage1Table;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Stage1Table from './table';\r\nimport { handlerPropsType } from './type';\r\nimport { columns, rowsGenerator, comparator } from './helper';\r\n\r\nconst Stage1Handler = (props: handlerPropsType): JSX.Element => {\r\n  const { pairsList } = props;\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [saved, setIsSaved] = useState(false);\r\n  const [rows, setRows] = useState(rowsGenerator(pairsList));\r\n  const tableName = pairsList[0]?.stage1Name ?? 'Not found';\r\n\r\n  // Aggiornamento dati\r\n  const updateCellValue = async (oldValue: any, newValue: any, row: any, column: any) => {\r\n    const model1 = {\r\n      tId: row.pair.tId,\r\n      tableName,\r\n      score: newValue,\r\n      pair1Id: row.pair.id,\r\n      pair2Id: rows[parseInt(column.text) - 1].pair.id\r\n    };\r\n    const response = await fetch('/api/v1/stage1/cell', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(model1)\r\n    });\r\n    await response.json();\r\n    if (response.ok) {\r\n      setIsSaved(true);\r\n      setTimeout(() => setIsSaved(false), 3000);\r\n    }\r\n  };\r\n\r\n  // Reperimento dati dal db\r\n  useEffect(\r\n    () => {\r\n      const fetchData = async () => {\r\n        setIsLoading(true);\r\n        const response = await fetch('/api/v1/stage1', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ rows, stageName: tableName })\r\n        });\r\n        const result = await response.json();\r\n        // Ordinamento\r\n        [...result]\r\n          .sort((e1, e2) => comparator(e1, e2))\r\n          .forEach((row, index) => (result[row.rowNumber - 1]['place'] = index + 1));\r\n        setRows(result);\r\n        setIsLoading(false);\r\n      };\r\n      fetchData();\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n  const onSelect = () => {\r\n    if (tableName === '1') console.log('onSelect ');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/*saved ? <p>Salvato....</p> : null*/}\r\n      {isLoading ? (\r\n        <h3>\r\n          Caricamento girone <b>{tableName}</b> in corso....\r\n        </h3>\r\n      ) : (\r\n        <Stage1Table\r\n          rows={rows}\r\n          columns={columns(onSelect, pairsList)}\r\n          tableName={tableName}\r\n          updateCellValue={updateCellValue}\r\n          saved={saved}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Stage1Handler;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { fetchPairs } from '../Pair/helper';\r\nimport { Pair } from './type';\r\nimport Stage1Handler from './handler';\r\nimport { ListGroup, Button } from 'react-bootstrap';\r\n\r\n/**\r\n * Wraps multiple table components\r\n */\r\nconst Wrapper: React.FC = (): JSX.Element => {\r\n  const { tId } = useParams();\r\n  const [pairsList, setPairsList] = useState<Pair[]>([]);\r\n\r\n  let currentHistory = useHistory();\r\n  function goBack() {\r\n    currentHistory.push(`/tournament/${tId}`);\r\n  }\r\n\r\n  useEffect(() => fetchPairs(setPairsList, tId), [tId]);\r\n  // sort pairs by stage1Name\r\n  pairsList.sort((obj1, obj2) => obj1.stage1Name.localeCompare(obj2.stage1Name));\r\n  return (\r\n    <>\r\n      <ListGroup.Item className={'inherit-background'} key={'stage-button'}>\r\n        <Button variant=\"secondary\" onClick={goBack}>\r\n          Gestione Coppie\r\n        </Button>\r\n      </ListGroup.Item>\r\n      {renderTables(pairsList, tId)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n\r\nfunction renderTables(pairsList: Pair[], tId: string | undefined): JSX.Element {\r\n  let stageName = '';\r\n  let stage: Pair[] = [];\r\n  let stageList: JSX.Element[] = [];\r\n\r\n  pairsList.forEach((element, index) => {\r\n    // A rottura di stage1Name\r\n    if (stageName === '') stageName = element.stage1Name;\r\n    if (stageName !== element.stage1Name) {\r\n      stageList.push(\r\n        <ListGroup.Item className={'inherit-background'} key={`stage-${stageName}`}>\r\n          <Stage1Handler pairsList={stage} />\r\n        </ListGroup.Item>\r\n      );\r\n      // console.log(`stages ${stageName} :`, stage, stage.length);\r\n      stageName = element.stage1Name;\r\n      stage = [];\r\n    }\r\n    stage.push(element);\r\n  });\r\n  if (stage.length > 0) {\r\n    stageList.push(\r\n      <ListGroup.Item className={'inherit-background'} key={`stage-${stageName}`}>\r\n        <Stage1Handler pairsList={stage} />\r\n      </ListGroup.Item>\r\n    );\r\n    // console.log(`stages ${stageName} :`, stage);\r\n  }\r\n\r\n  return <ListGroup variant=\"flush\">{stageList}</ListGroup>;\r\n}\r\n"],"sourceRoot":""}