{"version":3,"sources":["components/Player/helper.js","components/Player/select.jsx","components/Pair/helper.js","../node_modules/react-transition-group/esm/utils/ChildMapping.js","../node_modules/react-transition-group/esm/TransitionGroup.js","../node_modules/react-select/animated/dist/react-select.browser.esm.js","components/Stage1/header.tsx","components/Pair/select.jsx","components/Stage1/helper.js","components/Stage1/table.jsx","components/Stage1/handler.tsx","components/Stage1/wrapper.tsx"],"names":["nameFilter","surnameFilter","aliasFilter","roleFilter","emailFilter","phoneFilter","selectOptions","Portiere","Attaccante","Master","clearAllFilter","playerColumns","isEditable","dataField","text","editable","headerStyle","column","colIndex","width","headerClasses","autoSelectText","filter","textFilter","placeholder","getFilter","selectFilter","options","editor","type","Type","SELECT","getOptions","_","value","label","hidden","valueFormatter","selectedOption","alias","surname","name","getEmptyPlayer","id","role","email","phone","match_played","match_won","total_score","animatedComponents","makeAnimated","PlayerSelection","React","forwardRef","props","ref","useState","setSelectedOption","row","columnIndex","onUpdate","onSelect","components","onChange","pairId","isSearchable","isClearable","columns","align","editorRenderer","editorProps","rowIndex","toUpperCase","split","map","e","CHECKBOX","style","content","backgroundColor","cellEditProps","cellEditFactory","mode","blurToSave","afterSaveCell","oldValue","newValue","a","fetch","method","headers","body","JSON","stringify","response","json","getEmptyRowModel","rowNumber","tId","player1","player2","pairAlias","stage1Name","paid1","paid2","fetchData","rows","result","players","tournament","fetchPairs","setterFunction","console","log","createAlias","getChildMapping","children","mapFn","Object","create","Children","c","forEach","child","key","isValidElement","mapper","getProp","prop","getNextChildMapping","nextProps","prevChildMapping","onExited","nextChildMapping","prev","next","getValueForKey","i","nextKeysPending","pendingKeys","prevKey","length","push","childMapping","nextKey","pendingNextKey","mergeChildMappings","keys","hasPrev","hasNext","prevChild","isLeaving","in","cloneElement","bind","exit","enter","values","obj","k","TransitionGroup","_React$Component","context","_this","handleExited","call","this","_assertThisInitialized","state","contextValue","isMounting","firstRender","_inheritsLoose","_proto","prototype","componentDidMount","mounted","setState","componentWillUnmount","getDerivedStateFromProps","_ref","appear","node","currentChildMapping","_extends","render","_this$props","Component","component","childFactory","_objectWithoutPropertiesLoose","createElement","TransitionGroupContext","Provider","propTypes","defaultProps","AnimatedInput","WrappedComponent","source","excluded","target","sourceKeys","indexOf","assign","arguments","hasOwnProperty","apply","Fade","Tag","_ref$duration","duration","inProp","_objectWithoutPropertiesLoose$1","transition","entering","opacity","entered","exiting","exited","Transition","mountOnEnter","unmountOnExit","timeout","innerProps","Collapse","_Component","subClass","superClass","_len","args","Array","_key","concat","rafID","getWidth","isNaN","window","requestAnimationFrame","getBoundingClientRect","getStyle","overflow","whiteSpace","getTransition","constructor","__proto__","cancelAnimationFrame","_this2","_extends$1","AnimatedMultiValue","_objectWithoutPropertiesLoose$2","cropWithEllipsis","_extends$2","_extends$3","AnimatedSingleValue","_extends$4","AnimatedValueContainer","_extends$5","externalComponents","defaultComponents","Input","MultiValue","Placeholder","SingleValue","ValueContainer","rest","_objectWithoutPropertiesLoose$3","isMulti","AnimatedComponents","index","memoizeOne","exportedEqual","tableHeader","title","saved","divStyle","color","undefined","PairsSelection","pairsList","setPairsList","useEffect","newColumn","toString","headerAlign","cell","parseInt","baseColumns","ii","comparator","obj1","obj2","total","Stage1Table","tableName","updateCellValue","selectedRows","setSelectedRows","handleOnSelect","isSelected","found","find","selectRow","onSelectAll","SessionContext","Consumer","session","bootstrap4","keyField","data","cellEdit","beforeSaveCell","startsWith","getOpposite","sort","e1","e2","acc","noDataIndication","wrapperClasses","caption","striped","hover","Stage1Handler","isLoading","setIsLoading","setIsSaved","pair","jj","rowsGenerator","setRows","model1","score","pair1Id","pair2Id","ok","setTimeout","stageName","Wrapper","useParams","currentHistory","useHistory","localeCompare","ListGroup","Item","className","Button","variant","onClick","stage","stageList","element","renderTables"],"mappings":"gPAaIA,EACAC,EACAC,EACAC,EACAC,EACAC,E,kBAZEC,EAAgB,CACpBC,SAAU,WACVC,WAAY,aACZC,OAAQ,UAWH,SAASC,IACdV,EAAW,IACXC,EAAc,IACdC,EAAY,IACZC,EAAW,IACXC,EAAY,IACZC,EAAY,IAyFCM,IArFO,SAAAC,GAAU,MAAI,CAClC,CAAEC,UAAW,KAAMC,KAAM,KAAMC,UAAU,EAAOC,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,QAC7F,CACEN,UAAW,OACXC,KAAM,OACNM,cAAe,8BACfC,gBAAgB,EAChBL,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAOP,EAAa,MAAQ,QAClEU,OAAQC,qBAAW,CACjBC,YAAa,YACbC,UAAW,SAAAH,GAAM,OAAKtB,EAAasB,MAGvC,CACET,UAAW,UACXC,KAAM,UACNM,cAAe,8BACfC,gBAAgB,EAChBL,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAOP,EAAa,MAAQ,QAClEU,OAAQC,qBAAW,CACjBC,YAAa,YACbC,UAAW,SAAAH,GAAM,OAAKrB,EAAgBqB,MAG1C,CACET,UAAW,QACXC,KAAM,QACNM,cAAe,8BACfJ,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAOP,EAAa,MAAQ,QAClES,gBAAgB,EAChBC,OAAQC,qBAAW,CACjBC,YAAa,YACbC,UAAW,SAAAH,GAAM,OAAKpB,EAAcoB,MAGxC,CACET,UAAW,OACXC,KAAM,QACNM,cAAe,8BACfJ,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAM,GAAD,OAAKP,EAAa,KAAO,KAAzB,OAC3CU,OAAQI,uBAAa,CACnBF,YAAa,YACbG,QAASrB,EACTmB,UAAW,SAAAH,GAAM,OAAKnB,EAAamB,KAErCM,OAAQ,CACNC,KAAMC,OAAKC,OACXC,WAAY,SAAAC,GACV,MAAO,CACL,CAAEC,MAAO,WAAYC,MAAO,YAC5B,CAAED,MAAO,aAAcC,MAAO,cAC9B,CAAED,MAAO,SAAUC,MAAO,cAKlC,CACEtB,UAAW,QACXC,KAAM,QACNE,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,QAC7CC,cAAe,8BACfC,gBAAgB,EAChBe,QAASxB,EACTU,OAAQC,qBAAW,CACjBC,YAAa,YACbC,UAAW,SAAAH,GAAM,OAAKlB,EAAckB,MAGxC,CACET,UAAW,QACXG,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,QAC7CL,KAAM,WACNM,cAAe,8BACfC,gBAAgB,EAChBe,QAASxB,EACTU,OAAQC,qBAAW,CACjBC,YAAa,YACbC,UAAW,SAAAH,GAAM,OAAKjB,EAAciB,MAGxC,CAAET,UAAW,eAAgBC,KAAM,kBAAmBsB,QAAQ,GAC9D,CAAEvB,UAAW,YAAaC,KAAM,WAAYsB,QAAQ,GACpD,CAAEvB,UAAW,cAAeC,KAAM,YAAasB,QAAQ,KA2BlD,SAASC,EAAeC,GAE7B,OAAKA,EACDA,EAAeC,MACTD,EAAeC,MAEfD,EAAeE,QAAf,UAA4BF,EAAeG,KAA3C,cAAqDH,EAAeE,SAAYF,EAAeG,KAJ7E,GASvB,SAASC,EAAeP,GAC7B,MAAO,CACLQ,GAAI,KACJF,KAAM,GACND,QAAS,GACTD,MAAO,GACPJ,MAAOA,GAAS,GAChBS,KAAM,WACNC,MAAO,GACPC,MAAO,GACPC,aAAc,EACdC,UAAW,EACXC,YAAa,EACblC,UAAU,K,wVC7JRmC,EAAqBC,cAgCZC,EA9BSC,IAAMC,YAAW,SAACC,EAAOC,GAAS,IAAD,EACXC,qBADW,mBAChDnB,EADgD,KAChCoB,EADgC,KAE/CC,EAAsDJ,EAAtDI,IAAKC,EAAiDL,EAAjDK,YAAajB,EAAoCY,EAApCZ,GAAIkB,EAAgCN,EAAhCM,SAAUC,EAAsBP,EAAtBO,SAAUnC,EAAY4B,EAAZ5B,QAelD,OACE,kBAAC,IAAD,CACEoC,WAAYb,EACZvB,QAASA,EACTqC,SAZiB,SAAA1B,GACnBA,EAAe2B,OAAStB,EACxBe,EAAkBpB,GAClB,IAAMJ,EAAQG,YAAeC,GAC7BuB,EAAS3B,GACT4B,EAASxB,EAAgBqB,EAAIhB,GAAIiB,IAQ/B1B,MAAOI,EACPd,YAAY,WACZ0C,cAAY,EACZC,aAAW,OC5BJC,EAAU,SAACN,EAAUnC,GAAX,MAAuB,CAC5C,CAAEd,UAAW,KAAMC,KAAM,KAAMC,UAAU,EAAOqB,QAAQ,EAAMiC,MAAO,iBAAM,WAC3E,CAAExD,UAAW,YAAaC,KAAM,KAAMC,UAAU,EAAOsD,MAAO,iBAAM,WACpE,CACExD,UAAW,gBACXC,KAAM,cACNuD,MAAO,iBAAM,UACbC,eAAgB,SAACC,EAAarC,EAAOyB,EAAK1C,EAAQuD,EAAUZ,GAA5C,OACd,kBAAC,EAAD,iBACMW,EADN,CAEE5B,GAAIiB,EACJD,IAAKA,EACLa,SAAUA,EACVZ,YAAaA,EACb1B,MAAOA,EACP4B,SAAUA,EACVnC,QAASA,MAGbX,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,SAE/C,CACEN,UAAW,gBACXC,KAAM,cACNuD,MAAO,iBAAM,UACbC,eAAgB,SAACC,EAAarC,EAAOyB,EAAK1C,EAAQuD,EAAUZ,GAA5C,OACd,kBAAC,EAAD,iBACMW,EADN,CAEE5B,GAAIiB,EACJD,IAAKA,EACLa,SAAUA,EACVZ,YAAaA,EACb1B,MAAOA,EACP4B,SAAUA,EACVnC,QAASA,MAGbX,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,SAE/C,CAAEN,UAAW,YAAaC,KAAM,eAAgBE,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,SAC7F,CACEN,UAAW,aACXC,KAAM,cACNuD,MAAO,iBAAM,UACbrD,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,QAC7CS,OAAQ,CACNC,KAAMC,OAAKC,OACXJ,QAAS,6BACN8C,cACAC,MAAM,IACNC,KAAI,SAAAC,GACH,MAAO,CAAE1C,MAAO0C,EAAGzC,MAAOyC,QAIlC,CACE/D,UAAW,QACXC,KAAM,WACNuD,MAAO,iBAAM,UACbrD,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,SAC7CS,OAAQ,CACNC,KAAMC,OAAK+C,SACX3C,MAAO,SAWT4C,MAAO,SAACC,EAASpB,EAAKa,EAAUZ,GAC9B,GAAgB,OAAZmB,EAAkB,MAAO,CAAEC,gBAAiB,aAGpD,CACEnE,UAAW,QACXC,KAAM,WACNuD,MAAO,iBAAM,UACbrD,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,SAC7CS,OAAQ,CACNC,KAAMC,OAAK+C,SACX3C,MAAO,SAWT4C,MAAO,SAACC,EAASpB,EAAKa,EAAUZ,GAC9B,GAAgB,OAAZmB,EAAkB,MAAO,CAAEC,gBAAiB,eAKzCC,EAAgB,SAAAlE,GAAQ,OACnCmE,IAAgB,CACdC,KAAMpE,EAAW,QAAU,OAC3BqE,YAAY,EACZC,cAAe,SAACC,EAAUC,EAAU5B,EAAK1C,GAEd,kBAArBA,EAAOJ,WAAsD,kBAArBI,EAAOJ,WACnD,sBAAC,4BAAA2E,EAAA,sEACwBC,MAAM,eAAgB,CAC3CC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUnC,KAJxB,cACOoC,EADP,gBAMOA,EAASC,OANhB,0CAAD,OAWC,SAASC,IACd,MAAO,CACLtD,GAAI,KACJuD,UAAW,KACXC,IAAK,KACLC,QAAS1D,cACT2D,QAAS3D,cACT4D,UAAW,GACXC,WAAY,GACZC,MAAO,KACPC,MAAO,MAIJ,IAAMC,EAAS,uCAAG,WAAMP,GAAN,uBAAAX,EAAA,sEAEFC,MAAM,0BAAD,OAA2BU,GAAO,CAC1DT,OAAQ,MACRC,QAAS,CAAE,eAAgB,sBAJN,cAEnBI,EAFmB,gBAMJA,EAASC,OANL,cAMjBW,EANiB,gBAQNlB,MAAMU,EAAG,8BAA0BA,GAAQ,sBAAuB,CACjFT,OAAQ,MACRC,QAAS,CAAE,eAAgB,sBAVN,cAQvBI,EARuB,iBAYFA,EAASC,OAZP,eAYjBY,EAZiB,OAajBC,EAbiB,sBAaHD,GAbG,CAaKlE,YAAe,sBAbpB,UAgBN+C,MAAM,sBAAD,OAAuBU,GAAO,CAClDT,OAAQ,MACRC,QAAS,CAAE,eAAgB,sBAlBN,eAgBvBI,EAhBuB,iBAoBEA,EAASC,OApBX,eAoBjBc,EApBiB,yBAsBhB,CAAEH,OAAME,UAASC,eAtBD,4CAAH,sDAyBTC,EAAa,SAACC,EAAgBb,GACzC,sBAAC,8BAAAX,EAAA,sEACwBC,MAAM,0BAAD,OAA2BU,GAAO,CAC5DT,OAAQ,MACRC,QAAS,CAAE,eAAgB,sBAH9B,cACOI,EADP,gBAKsBA,EAASC,OAL/B,OAKOY,EALP,OAMCI,EAAeJ,GANhB,0CAAD,IAUK,SAASvE,EAAeC,GAE7B,OADA2E,QAAQC,IAAI,oBAAqB5E,GAC7BA,EAAegE,WAA0C,KAA7BhE,EAAegE,UACvC,GAAN,OAAUhE,EAAegE,UAAzB,cAAwChE,EAAeK,GAAvD,MAIG,SAAqBL,GAC1B2E,QAAQC,IAAI,iBAAkB5E,GAC9B,IAAIJ,EAAK,UAAMI,EAAe4D,UAArB,OACDE,EAAyB9D,EAAzB8D,QAASC,EAAgB/D,EAAhB+D,QAAS1D,EAAOL,EAAPK,GAI1B,OAHAT,GAASkE,EAAQ7D,MAAQ6D,EAAQ7D,MAAQ6D,EAAQ3D,KACjDP,GAAiCmE,EAAQ9D,MACzCL,GAAK,aAAUS,EAAV,MATEwE,CAAY7E,K,yJC1Kd,SAAS8E,EAAgBC,EAAUC,GACxC,IAIIV,EAASW,OAAOC,OAAO,MAO3B,OANIH,GAAUI,WAAS9C,IAAI0C,GAAU,SAAUK,GAC7C,OAAOA,KACNC,SAAQ,SAAUC,GAEnBhB,EAAOgB,EAAMC,KATF,SAAgBD,GAC3B,OAAON,GAASQ,yBAAeF,GAASN,EAAMM,GAASA,EAQnCG,CAAOH,MAEtBhB,EAkET,SAASoB,EAAQJ,EAAOK,EAAM1E,GAC5B,OAAsB,MAAfA,EAAM0E,GAAgB1E,EAAM0E,GAAQL,EAAMrE,MAAM0E,GAclD,SAASC,EAAoBC,EAAWC,EAAkBC,GAC/D,IAAIC,EAAmBlB,EAAgBe,EAAUd,UAC7CA,EA/DC,SAA4BkB,EAAMC,GAIvC,SAASC,EAAeZ,GACtB,OAAOA,KAAOW,EAAOA,EAAKX,GAAOU,EAAKV,GAJxCU,EAAOA,GAAQ,GACfC,EAAOA,GAAQ,GAQf,IAcIE,EAdAC,EAAkBpB,OAAOC,OAAO,MAChCoB,EAAc,GAElB,IAAK,IAAIC,KAAWN,EACdM,KAAWL,EACTI,EAAYE,SACdH,EAAgBE,GAAWD,EAC3BA,EAAc,IAGhBA,EAAYG,KAAKF,GAKrB,IAAIG,EAAe,GAEnB,IAAK,IAAIC,KAAWT,EAAM,CACxB,GAAIG,EAAgBM,GAClB,IAAKP,EAAI,EAAGA,EAAIC,EAAgBM,GAASH,OAAQJ,IAAK,CACpD,IAAIQ,EAAiBP,EAAgBM,GAASP,GAC9CM,EAAaL,EAAgBM,GAASP,IAAMD,EAAeS,GAI/DF,EAAaC,GAAWR,EAAeQ,GAIzC,IAAKP,EAAI,EAAGA,EAAIE,EAAYE,OAAQJ,IAClCM,EAAaJ,EAAYF,IAAMD,EAAeG,EAAYF,IAG5D,OAAOM,EAoBQG,CAAmBf,EAAkBE,GAmCpD,OAlCAf,OAAO6B,KAAK/B,GAAUM,SAAQ,SAAUE,GACtC,IAAID,EAAQP,EAASQ,GACrB,GAAKC,yBAAeF,GAApB,CACA,IAAIyB,EAAUxB,KAAOO,EACjBkB,EAAUzB,KAAOS,EACjBiB,EAAYnB,EAAiBP,GAC7B2B,EAAY1B,yBAAeyB,KAAeA,EAAUhG,MAAMkG,IAE1DH,GAAaD,IAAWG,EAQhBF,IAAWD,GAAYG,EAMxBF,GAAWD,GAAWvB,yBAAeyB,KAI9ClC,EAASQ,GAAO6B,uBAAa9B,EAAO,CAClCS,SAAUA,EAASsB,KAAK,KAAM/B,GAC9B6B,GAAIF,EAAUhG,MAAMkG,GACpBG,KAAM5B,EAAQJ,EAAO,OAAQO,GAC7B0B,MAAO7B,EAAQJ,EAAO,QAASO,MAXjCd,EAASQ,GAAO6B,uBAAa9B,EAAO,CAClC6B,IAAI,IAVNpC,EAASQ,GAAO6B,uBAAa9B,EAAO,CAClCS,SAAUA,EAASsB,KAAK,KAAM/B,GAC9B6B,IAAI,EACJG,KAAM5B,EAAQJ,EAAO,OAAQO,GAC7B0B,MAAO7B,EAAQJ,EAAO,QAASO,SAoB9Bd,ECjIT,IAAIyC,EAASvC,OAAOuC,QAAU,SAAUC,GACtC,OAAOxC,OAAO6B,KAAKW,GAAKpF,KAAI,SAAUqF,GACpC,OAAOD,EAAIC,OA0BXC,EAEJ,SAAUC,GAGR,SAASD,EAAgB1G,EAAO4G,GAC9B,IAAIC,EAIAC,GAFJD,EAAQF,EAAiBI,KAAKC,KAAMhH,EAAO4G,IAAYI,MAE9BF,aAAaV,KAAKa,YAAuBA,YAAuBJ,KAUzF,OAPAA,EAAMK,MAAQ,CACZC,aAAc,CACZC,YAAY,GAEdN,aAAcA,EACdO,aAAa,GAERR,EAjBTS,YAAeZ,EAAiBC,GAoBhC,IAAIY,EAASb,EAAgBc,UAoE7B,OAlEAD,EAAOE,kBAAoB,WACzBT,KAAKU,SAAU,EACfV,KAAKW,SAAS,CACZR,aAAc,CACZC,YAAY,MAKlBG,EAAOK,qBAAuB,WAC5BZ,KAAKU,SAAU,GAGjBhB,EAAgBmB,yBAA2B,SAAkCjD,EAAWkD,GACtF,IDcmC9H,EAAO8E,ECdtCD,EAAmBiD,EAAKhE,SACxBgD,EAAegB,EAAKhB,aAExB,MAAO,CACLhD,SAFgBgE,EAAKT,aDYYrH,ECVc4E,EDUPE,ECVkBgC,EDWvDjD,EAAgB7D,EAAM8D,UAAU,SAAUO,GAC/C,OAAO8B,uBAAa9B,EAAO,CACzBS,SAAUA,EAASsB,KAAK,KAAM/B,GAC9B6B,IAAI,EACJ6B,OAAQtD,EAAQJ,EAAO,SAAUrE,GACjCsG,MAAO7B,EAAQJ,EAAO,QAASrE,GAC/BqG,KAAM5B,EAAQJ,EAAO,OAAQrE,SCjB6C2E,EAAoBC,EAAWC,EAAkBiC,GAC3HO,aAAa,IAIjBE,EAAOT,aAAe,SAAsBzC,EAAO2D,GACjD,IAAIC,EAAsBpE,EAAgBmD,KAAKhH,MAAM8D,UACjDO,EAAMC,OAAO2D,IAEb5D,EAAMrE,MAAM8E,UACdT,EAAMrE,MAAM8E,SAASkD,GAGnBhB,KAAKU,SACPV,KAAKW,UAAS,SAAUT,GACtB,IAAIpD,EAAWoE,YAAS,GAAIhB,EAAMpD,UAGlC,cADOA,EAASO,EAAMC,KACf,CACLR,SAAUA,QAMlByD,EAAOY,OAAS,WACd,IAAIC,EAAcpB,KAAKhH,MACnBqI,EAAYD,EAAYE,UACxBC,EAAeH,EAAYG,aAC3BvI,EAAQwI,YAA8BJ,EAAa,CAAC,YAAa,iBAEjEjB,EAAeH,KAAKE,MAAMC,aAC1BrD,EAAWyC,EAAOS,KAAKE,MAAMpD,UAAU1C,IAAImH,GAK/C,cAJOvI,EAAM+H,cACN/H,EAAMsG,aACNtG,EAAMqG,KAEK,OAAdgC,EACKvI,IAAM2I,cAAcC,IAAuBC,SAAU,CAC1DhK,MAAOwI,GACNrD,GAGEhE,IAAM2I,cAAcC,IAAuBC,SAAU,CAC1DhK,MAAOwI,GACNrH,IAAM2I,cAAcJ,EAAWrI,EAAO8D,KAGpC4C,EAzFT,CA0FE5G,IAAMuI,WAER3B,EAAgBkC,UAyDZ,GACJlC,EAAgBmC,aA9KG,CACjBP,UAAW,MACXC,aAAc,SAAsBlE,GAClC,OAAOA,IA4KIqC,QC/Kf,IAAIoC,EAAgB,SAAuBC,GACzC,OAAO,SAAUjB,GACFA,EAAK5B,GACH4B,EAAKhD,SACPgD,EAAKC,OACND,EAAKxB,MACNwB,EAAKzB,KAJhB,IAKIrG,EAXR,SAAuCgJ,EAAQC,GAAY,GAAc,MAAVD,EAAgB,MAAO,GAAI,IAA2D1E,EAAKa,EAA5D+D,EAAS,GAAQC,EAAanF,OAAO6B,KAAKmD,GAAqB,IAAK7D,EAAI,EAAGA,EAAIgE,EAAW5D,OAAQJ,IAAOb,EAAM6E,EAAWhE,GAAQ8D,EAASG,QAAQ9E,IAAQ,IAAa4E,EAAO5E,GAAO0E,EAAO1E,IAAQ,OAAO4E,EAW1RV,CAA8BV,EAAM,CAAC,KAAM,WAAY,SAAU,QAAS,SAEtF,OAAOhI,IAAM2I,cAAcM,EAAkB/I,KAMjD,SAASkI,IAA2Q,OAA9PA,EAAWlE,OAAOqF,QAAU,SAAUH,GAAU,IAAK,IAAI/D,EAAI,EAAGA,EAAImE,UAAU/D,OAAQJ,IAAK,CAAE,IAAI6D,EAASM,UAAUnE,GAAI,IAAK,IAAIb,KAAO0E,EAAchF,OAAOwD,UAAU+B,eAAexC,KAAKiC,EAAQ1E,KAAQ4E,EAAO5E,GAAO0E,EAAO1E,IAAY,OAAO4E,IAA2BM,MAAMxC,KAAMsC,WAGhT,IAAIG,EAAO,SAAc3B,GACvB,IAAI4B,EAAM5B,EAAKQ,UACXqB,EAAgB7B,EAAK8B,SACrBA,OAA6B,IAAlBD,EAA2B,EAAIA,EAC1CE,EAAS/B,EAAK5B,GAEdlG,GADW8H,EAAKhD,SANtB,SAAyCkE,EAAQC,GAAY,GAAc,MAAVD,EAAgB,MAAO,GAAI,IAA2D1E,EAAKa,EAA5D+D,EAAS,GAAQC,EAAanF,OAAO6B,KAAKmD,GAAqB,IAAK7D,EAAI,EAAGA,EAAIgE,EAAW5D,OAAQJ,IAAOb,EAAM6E,EAAWhE,GAAQ8D,EAASG,QAAQ9E,IAAQ,IAAa4E,EAAO5E,GAAO0E,EAAO1E,IAAQ,OAAO4E,EAO9RY,CAAgChC,EAAM,CAAC,YAAa,WAAY,KAAM,cAE9EiC,EAAa,CACfC,SAAU,CACRC,QAAS,GAEXC,QAAS,CACPD,QAAS,EACTF,WAAY,WAAaH,EAAW,MAEtCO,QAAS,CACPF,QAAS,GAEXG,OAAQ,CACNH,QAAS,IAGb,OAAOnK,IAAM2I,cAAc4B,IAAY,CACrCC,cAAc,EACdC,eAAe,EACfrE,GAAI2D,EACJW,QAASZ,IACR,SAAU1C,GACX,IAAIuD,EAAa,CACflJ,MAAO2G,EAAS,GAAI6B,EAAW7C,KAEjC,OAAOpH,IAAM2I,cAAciB,EAAKxB,EAAS,CACvCuC,WAAYA,GACXzK,QASH0K,EAEJ,SAAUC,GAlDV,IAAwBC,EAAUC,EAqDhC,SAASH,IAGP,IAFA,IAAI7D,EAEKiE,EAAOxB,UAAU/D,OAAQwF,EAAO,IAAIC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC/EF,EAAKE,GAAQ3B,UAAU2B,GAoDzB,OAjDApE,EAAQ8D,EAAW5D,KAAKyC,MAAMmB,EAAY,CAAC3D,MAAMkE,OAAOH,KAAU/D,MAC5D4C,SAhBa,IAiBnB/C,EAAMsE,WAAQ,EACdtE,EAAMK,MAAQ,CACZtJ,MAAO,QAETiJ,EAAMkD,WAAa,CACjBI,QAAS,CACPvM,MAAO,EACPmM,WAAY,SAAWlD,EAAM+C,SAAW,eAE1CQ,OAAQ,CACNxM,MAAO,IAIXiJ,EAAMuE,SAAW,SAAUnL,GACrBA,GAAOoL,MAAMxE,EAAMK,MAAMtJ,SAS3BiJ,EAAMsE,MAAQG,OAAOC,uBAAsB,WACzC,IACI3N,EADwBqC,EAAIuL,wBACE5N,MAElCiJ,EAAMc,SAAS,CACb/J,MAAOA,SAMfiJ,EAAM4E,SAAW,SAAU7N,GACzB,MAAO,CACL8N,SAAU,SACVC,WAAY,SACZ/N,MAAOA,IAIXiJ,EAAM+E,cAAgB,SAAU1E,GAC9B,OAAOL,EAAMkD,WAAW7C,IAGnBL,EA7GuBgE,EAmDPF,GAnDHC,EAmDPF,GAnDwClD,UAAYxD,OAAOC,OAAO4G,EAAWrD,WAAYoD,EAASpD,UAAUqE,YAAcjB,EAAUA,EAASkB,UAAYjB,EAgHxK,IAAItD,EAASmD,EAASlD,UAgCtB,OA9BAD,EAAOK,qBAAuB,WACxBZ,KAAKmE,OACPG,OAAOS,qBAAqB/E,KAAKmE,QAKrC5D,EAAOY,OAAS,WACd,IAAI6D,EAAShF,KAEToB,EAAcpB,KAAKhH,MACnB8D,EAAWsE,EAAYtE,SACvB+F,EAASzB,EAAYlC,GACrBtI,EAAQoJ,KAAKE,MAAMtJ,MACvB,OAAOkC,IAAM2I,cAAc4B,IAAY,CACrC/D,OAAO,EACPgE,cAAc,EACdC,eAAe,EACfrE,GAAI2D,EACJW,QAASxD,KAAK4C,WACb,SAAU1C,GACX,IAAI3F,EAAQ2G,EAAS,GAAI8D,EAAOP,SAAS7N,GAAQoO,EAAOJ,cAAc1E,IAEtE,OAAOpH,IAAM2I,cAAc,MAAO,CAChCxI,IAAK+L,EAAOZ,SACZ7J,MAAOA,GACNuC,OAIA4G,EA9FT,CA+FErC,aAEF,SAAS4D,IAA+Q,OAAhQA,EAAajI,OAAOqF,QAAU,SAAUH,GAAU,IAAK,IAAI/D,EAAI,EAAGA,EAAImE,UAAU/D,OAAQJ,IAAK,CAAE,IAAI6D,EAASM,UAAUnE,GAAI,IAAK,IAAIb,KAAO0E,EAAchF,OAAOwD,UAAU+B,eAAexC,KAAKiC,EAAQ1E,KAAQ4E,EAAO5E,GAAO0E,EAAO1E,IAAY,OAAO4E,IAA6BM,MAAMxC,KAAMsC,WAItT,IAAI4C,EAAqB,SAA4BnD,GACnD,OAAO,SAAUjB,GACf,IAAI+B,EAAS/B,EAAK5B,GACdpB,EAAWgD,EAAKhD,SAChB9E,EANR,SAAyCgJ,EAAQC,GAAY,GAAc,MAAVD,EAAgB,MAAO,GAAI,IAA2D1E,EAAKa,EAA5D+D,EAAS,GAAQC,EAAanF,OAAO6B,KAAKmD,GAAqB,IAAK7D,EAAI,EAAGA,EAAIgE,EAAW5D,OAAQJ,IAAOb,EAAM6E,EAAWhE,GAAQ8D,EAASG,QAAQ9E,IAAQ,IAAa4E,EAAO5E,GAAO0E,EAAO1E,IAAQ,OAAO4E,EAM5RiD,CAAgCrE,EAAM,CAAC,KAAM,aAEzD,OAAOhI,IAAM2I,cAAciC,EAAU,CACnCxE,GAAI2D,EACJ/E,SAAUA,GACThF,IAAM2I,cAAcM,EAAkBkD,EAAW,CAClDG,iBAAkBvC,GACjB7J,OAIP,SAASqM,IAA+Q,OAAhQA,EAAarI,OAAOqF,QAAU,SAAUH,GAAU,IAAK,IAAI/D,EAAI,EAAGA,EAAImE,UAAU/D,OAAQJ,IAAK,CAAE,IAAI6D,EAASM,UAAUnE,GAAI,IAAK,IAAIb,KAAO0E,EAAchF,OAAOwD,UAAU+B,eAAexC,KAAKiC,EAAQ1E,KAAQ4E,EAAO5E,GAAO0E,EAAO1E,IAAY,OAAO4E,IAA6BM,MAAMxC,KAAMsC,WAWtT,SAASgD,IAA+Q,OAAhQA,EAAatI,OAAOqF,QAAU,SAAUH,GAAU,IAAK,IAAI/D,EAAI,EAAGA,EAAImE,UAAU/D,OAAQJ,IAAK,CAAE,IAAI6D,EAASM,UAAUnE,GAAI,IAAK,IAAIb,KAAO0E,EAAchF,OAAOwD,UAAU+B,eAAexC,KAAKiC,EAAQ1E,KAAQ4E,EAAO5E,GAAO0E,EAAO1E,IAAY,OAAO4E,IAA6BM,MAAMxC,KAAMsC,WAEtT,IAAIiD,EAAsB,SAA6BxD,GACrD,OAAO,SAAU/I,GACf,OAAOF,IAAM2I,cAAcgB,EAAM6C,EAAW,CAC1ChE,UAAWS,GACV/I,MAIP,SAASwM,IAA+Q,OAAhQA,EAAaxI,OAAOqF,QAAU,SAAUH,GAAU,IAAK,IAAI/D,EAAI,EAAGA,EAAImE,UAAU/D,OAAQJ,IAAK,CAAE,IAAI6D,EAASM,UAAUnE,GAAI,IAAK,IAAIb,KAAO0E,EAAchF,OAAOwD,UAAU+B,eAAexC,KAAKiC,EAAQ1E,KAAQ4E,EAAO5E,GAAO0E,EAAO1E,IAAY,OAAO4E,IAA6BM,MAAMxC,KAAMsC,WAGtT,IAAImD,EAAyB,SAAgC1D,GAC3D,OAAO,SAAU/I,GACf,OAAOF,IAAM2I,cAAc/B,EAAiB8F,EAAW,CACrDlE,UAAWS,GACV/I,MAIP,SAAS0M,IAA+Q,OAAhQA,EAAa1I,OAAOqF,QAAU,SAAUH,GAAU,IAAK,IAAI/D,EAAI,EAAGA,EAAImE,UAAU/D,OAAQJ,IAAK,CAAE,IAAI6D,EAASM,UAAUnE,GAAI,IAAK,IAAIb,KAAO0E,EAAchF,OAAOwD,UAAU+B,eAAexC,KAAKiC,EAAQ1E,KAAQ4E,EAAO5E,GAAO0E,EAAO1E,IAAY,OAAO4E,IAA6BM,MAAMxC,KAAMsC,WAItT,IAAI1J,EAAe,SAAsB+M,QACZ,IAAvBA,IACFA,EAAqB,IAGvB,IAvCqD5D,EAuCjDvI,EAAaoM,YAAkB,CACjCpM,WAAYmM,IAGVE,EAAQrM,EAAWqM,MACnBC,EAAatM,EAAWsM,WACxBC,EAAcvM,EAAWuM,YACzBC,EAAcxM,EAAWwM,YACzBC,EAAiBzM,EAAWyM,eAC5BC,EAhBN,SAAyClE,EAAQC,GAAY,GAAc,MAAVD,EAAgB,MAAO,GAAI,IAA2D1E,EAAKa,EAA5D+D,EAAS,GAAQC,EAAanF,OAAO6B,KAAKmD,GAAqB,IAAK7D,EAAI,EAAGA,EAAIgE,EAAW5D,OAAQJ,IAAOb,EAAM6E,EAAWhE,GAAQ8D,EAASG,QAAQ9E,IAAQ,IAAa4E,EAAO5E,GAAO0E,EAAO1E,IAAQ,OAAO4E,EAgB/RiE,CAAgC3M,EAAY,CAAC,QAAS,aAAc,cAAe,cAAe,mBAE7G,OAAOkM,EAAW,CAChBG,MAAO/D,EAAc+D,GACrBC,WAAYZ,EAAmBY,GAC/BC,aArDmDhE,EAqDlBgE,EApD5B,SAAU/M,GACf,OAAOF,IAAM2I,cAAcgB,EAAM4C,EAAW,CAC1C/D,UAAWS,EACXa,SAAU5J,EAAMoN,QA/HC,IA+H4B,GAC5CpN,MAiDHgN,YAAaT,EAAoBS,GACjCC,eAAgBR,EAAuBQ,IACtCC,IAGDG,EAAqBzN,IAMrB0N,GALQD,EAAmBR,MACdQ,EAAmBP,WAClBO,EAAmBN,YACnBM,EAAmBL,YAChBK,EAAmBJ,eAC5BM,YAAW3N,EAAc4N,MAEtBF,O,iLCtPAG,EAdgC,SAAC,GAAuC,IAArCC,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,MACjDC,EAAW,CACfC,MAAOF,EAAQ,eAAYG,GAE7B,OACE,4BACE,uBAAGvM,MAAOqM,GAAV,YACW,gCAASF,IAEnBC,EAAQ,6DAA4C,O,SC0B5CI,EAjCQjO,IAAMC,YAAW,SAACC,EAAOC,GAAS,IAAD,EACpBC,mBAAS,IADW,mBAC/C8N,EAD+C,KACpCC,EADoC,OAEV/N,qBAFU,mBAE/CnB,EAF+C,KAE/BoB,EAF+B,KAG9CC,EAAkDJ,EAAlDI,IAAKC,EAA6CL,EAA7CK,YAAajB,EAAgCY,EAAhCZ,GAAIkB,EAA4BN,EAA5BM,SAAUC,EAAkBP,EAAlBO,SAAUqC,EAAQ5C,EAAR4C,IAkBlD,OAFAsL,qBAAU,kBAAM1K,YAAWyK,EAAcrL,KAAM,CAACA,IAG9C,kBAAC,IAAD,CACExE,QAAS4P,EACTvN,SAdiB,SAAA1B,GACnBA,EAAe2B,OAAStB,EACxBe,EAAkBpB,GAElB,IAAMJ,EAAQG,YAAeC,GAC7BuB,EAAS3B,GACT4B,EAASxB,EAAgBqB,EAAIhB,GAAIiB,IAS/B1B,MAAOI,EACPd,YAAY,WACZ0C,cAAY,EACZC,aAAW,OC7BXuN,EAAY,SAACb,EAAO3K,GACxB,MAAO,CACLvD,GAAG,MAAD,OAAQkO,GACVhQ,UAAU,MAAD,OAAQgQ,GACjB/P,KAAM+P,EAAMc,WACZ9P,KAAM,SACNb,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAM,GAAD,OAAK,GAAK+E,EAAV,OAC3C0L,YAAa,SAAC3Q,EAAQC,GAAT,MAAsB,UACnCH,SAAU,SAACgE,EAASpB,EAAKa,EAAUZ,GAAzB,OAAyCY,IAAaZ,EAAc,GAC9ES,MAAO,SAACwN,EAAMlO,EAAKa,EAAUtD,GAAtB,MAAmC,UAC1C4D,MAAO,SAACC,EAASpB,EAAKa,EAAUZ,GAC9B,OAAIY,IAAaZ,EAAc,EAAU,CAAEoB,gBAAiB,WAC9B,IAA1B8M,SAAS/M,EAAS,KAAuC,IAA1B+M,SAAS/M,EAAS,IAAkB,CAAEC,gBAAiB,sBAC5D,IAA1B8M,SAAS/M,EAAS,KAAuC,IAA1B+M,SAAS/M,EAAS,IAAkB,CAAEC,gBAAiB,sBACnF,MAOTpD,OAAQ,CACNC,KAAMC,OAAKC,OACXJ,QAAS,CACP,CAAEO,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,IAAKC,MAAO,KACrB,CAAED,MAAO,KAAMC,MAAO,QAqBvB,IAAMiC,EAAU,SAACN,EAAUyN,GAiDhC,IAvCA,IAAIQ,EAAc,CAChB,CAEEpP,GAAI,YACJ9B,UAAW,aACXC,KAAM,cACNC,UAAU,EACVC,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,QAC7CkD,MAAO,SAACwN,EAAMlO,EAAKa,EAAUtD,GAAtB,MAAmC,UAC1C0Q,YAAa,SAAC3Q,EAAQC,GAAT,MAAsB,UACnCoD,eAAgB,SAACC,EAAarC,EAAOyB,EAAK1C,EAAQuD,EAAUZ,GAA5C,OACd,kBAAC,EAAD,iBACMW,EADN,CAEE5B,GAAIiB,EACJD,IAAKA,EACLa,SAAUA,EACVZ,YAAaA,EACb1B,MAAOA,EACP4B,SAAUA,EACVqC,IAAKoL,EAAU,GAAGpL,SAIxB,CAEExD,GAAI,YACJ9B,UAAW,YACXC,KAAM,KACNC,UAAU,EACVc,KAAM,SACNb,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,OAC7CyQ,YAAa,SAAC3Q,EAAQC,GAAT,MAAsB,UACnC4D,MAAO,SAACC,EAASpB,EAAKa,EAAUZ,GAC9B,MAAO,CAAEoB,gBAAiB,cAMvBgN,EAAK,EAAGA,EAAKT,EAAUzI,OAAQkJ,IACtCD,EAAYhJ,KAAK2I,EAAUM,EAAK,EAAGT,EAAUzI,SAyB/C,OAtBAiJ,EAAYhJ,KACV,CAEEpG,GAAI,SACJ9B,UAAW,QACXC,KAAM,SACNC,UAAU,EACVc,KAAM,SACNb,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,OAC7CyQ,YAAa,SAAC3Q,EAAQC,GAAT,MAAsB,WAErC,CAEEyB,GAAI,QACJ9B,UAAW,QACXC,KAAM,YACNC,UAAU,EACVc,KAAM,SACNb,YAAa,SAACC,EAAQC,GAAT,MAAuB,CAAEC,MAAO,OAC7CyQ,YAAa,SAAC3Q,EAAQC,GAAT,MAAsB,YAGhC6Q,GAsCF,SAASE,EAAWC,EAAMC,GAE/B,OAAID,EAAKE,QAAUD,EAAKC,MACe,IAAjCF,EAAK,MAAD,OAAOC,EAAKjM,aAAuD,IAAjCgM,EAAK,MAAD,OAAOC,EAAKjM,aAChD,EAED,EAGJiM,EAAKC,MAAQF,EAAKE,M,YCvFZC,G,OA3EK,SAAC,GAA0D,IAAxD1L,EAAuD,EAAvDA,KAAMvC,EAAiD,EAAjDA,QAASkO,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,gBAAiBrB,EAAY,EAAZA,MAAY,EACpCzN,mBAAS,IAD2B,mBACrE+O,EADqE,KACvDC,EADuD,KAiCtEC,EAAiB,SAAC/O,EAAKgP,GAU3B,OATAF,GAAgB,WACd,IAAMG,IAAQJ,EAAaK,MAAK,SAAAjO,GAAC,OAAIA,EAAEsB,YAAcvC,EAAIuC,aACzD,OAAIyM,EACKC,EAAQJ,EAAH,CAAmB7O,GAAnB,mBAA2B6O,IAEhCI,EAAQJ,EAAalR,QAAO,SAAAsD,GAAC,OAAIA,EAAEsB,YAAcvC,EAAIuC,aAAasM,MAItE,GAGHM,EAAY,CAChB3N,KAAM,WACNrB,SAAU4O,EACVK,YAAa,SAACJ,EAAYhM,GAAb,OAAsBA,EAAKgB,SAAQ,SAAAhE,GAAG,OAAI+O,EAAe/O,EAAKgP,OAC3E7N,MAAO,CAAEE,gBAAiB,YAG5B,OACE,kBAACgO,EAAA,EAAeC,SAAhB,MACG,gBApDiBlS,EAoDfmS,EAAF,2BACC,kBAAC,IAAD,CACEC,YAAU,EACVC,SAAS,KACTC,KAAM1M,EACNvC,QAASA,EACT0O,UAAWA,EACXQ,UA3DcvS,EA2DUH,YAAWsS,GA1DzChO,IAAgB,CACdC,KAAMpE,EAAW,QAAU,OAC3BqE,YAAY,EACZmO,eAAgB,SAACjO,EAAUC,EAAU5B,EAAK1C,GACpCA,EAAO0B,GAAG6Q,WAAW,SAEvB7M,EAAKmL,SAAS7Q,EAAOH,MAAQ,GAA7B,aAAsC6C,EAAIuC,YDmH7C,SAAqBhE,GAQ1B,GAAc,OAAVA,EAAgB,OAAO,KAC3B,OAAQA,GACN,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,KAAK,EACH,OAAO,EACT,QACE,OAAO,MCtIsDuR,CAAYlO,GAErE,YAAIoB,GACD+M,MAAK,SAACC,EAAIC,GAAL,OAAY3B,EAAW0B,EAAIC,MAChCjM,SAAQ,SAAChE,EAAKkN,GAAN,OAAiBlK,EAAKhD,EAAIuC,UAAY,GAArB,MAAmC2K,EAAQ,OAG3ExL,cAAe,SAACC,EAAUC,EAAU5B,EAAK1C,GACvC,GAAIA,EAAO0B,GAAG6Q,WAAW,OAAQ,CAE/BjB,EAAgBjN,EAAUC,EAAU5B,EAAK1C,GACzC,IAAI4S,EAAM,EACV,IAAK,IAAIhM,KAAOlE,EAASkE,EAAI2L,WAAW,SAAQK,GAAOlQ,EAAIkE,IAI3D,IAAK,IAAIA,KAHTlB,EAAKhD,EAAIuC,UAAY,GAArB,MAAmC2N,GAAY,KAE/CA,EAAM,EACUlN,EAAKmL,SAAS7Q,EAAOH,MAAQ,GACvC+G,EAAI2L,WAAW,SAAQK,GAAOlN,EAAKmL,SAAS7Q,EAAOH,MAAQ,GAAG+G,IACpElB,EAAKmL,SAAS7Q,EAAOH,MAAQ,GAA7B,MAA2C+S,GAAY,UAmCvDC,iBAAiB,uBACjBC,eAAe,eACf3S,cAAc,sBACd4S,QAAS,kBAAC,EAAD,CAAa/C,MAAOqB,EAAWpB,MAAOA,IAC/C+C,SAAO,EACPC,OAAK,SCAAC,EA5EO,SAAC5Q,GAA0C,IAAD,IACtDgO,EAAchO,EAAdgO,UADsD,EAG5B9N,oBAAS,GAHmB,mBAGvD2Q,EAHuD,KAG5CC,EAH4C,OAIlC5Q,oBAAS,GAJyB,mBAIvDyN,EAJuD,KAIhDoD,EAJgD,OAKtC7Q,mBF4BnB,SAAuB8N,GAE5B,IADA,IAAI5K,EAAO,GACFqL,EAAK,EAAGA,EAAKT,EAAUzI,OAAQkJ,IAAM,CAC5CrL,EAAKoC,KAAK,CAAEwL,KAAMhD,EAAUS,GAAK9L,UAAW8L,EAAK,IACjD,IAAK,IAAIwC,EAAK,EAAGA,GAAMjD,EAAUzI,OAAQ0L,IACvC7N,EAAKqL,GAAL,aAAewC,IAAQ,KAEzB7N,EAAKqL,GAAL,MAAoB,EACpBrL,EAAKqL,GAAL,MAAoB,EACpBrL,EAAKqL,GAAL,iBAAwBT,EAAU,GAAGpL,IAArC,YAA4C6L,GAG9C,OAAOrL,EExC0B8N,CAAclD,IALe,mBAKvD5K,EALuD,KAKjD+N,EALiD,KAMxDpC,EAAS,oBAAGf,EAAU,UAAb,aAAG,EAAchL,kBAAjB,QAA+B,YAGxCgM,EAAe,uCAAG,WAAOjN,EAAeC,EAAe5B,EAAU1C,GAA/C,iBAAAuE,EAAA,6DAChBmP,EAAS,CACbxO,IAAKxC,EAAI4Q,KAAKpO,IACdmM,YACAsC,MAAOrP,EACPsP,QAASlR,EAAI4Q,KAAK5R,GAClBmS,QAASnO,EAAKmL,SAAS7Q,EAAOH,MAAQ,GAAGyT,KAAK5R,IAN1B,SAQC8C,MAAM,sBAAuB,CAClDC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU6O,KAXD,cAQhB5O,EARgB,gBAahBA,EAASC,OAbO,OAclBD,EAASgP,KACXT,GAAW,GACXU,YAAW,kBAAMV,GAAW,KAAQ,MAhBhB,2CAAH,4DAqBrB7C,qBACE,YACiB,uCAAG,8BAAAjM,EAAA,6DAChB6O,GAAa,GADG,SAEO5O,MAAM,iBAAkB,CAC7CC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAEa,OAAMsO,UAAW3C,MAL1B,cAEVvM,EAFU,gBAOKA,EAASC,OAPd,OAOVY,EAPU,OAShB,YAAIA,GACD8M,MAAK,SAACC,EAAIC,GAAL,OAAY3B,EAAW0B,EAAIC,MAChCjM,SAAQ,SAAChE,EAAKkN,GAAN,OAAiBjK,EAAOjD,EAAIuC,UAAY,GAAvB,MAAqC2K,EAAQ,KACzE6D,EAAQ9N,GACRyN,GAAa,GAbG,4CAAH,qDAef3N,KAGF,IAMF,OACE,oCAEG0N,EACC,kDACqB,2BAAI9B,GADzB,iBAIA,kBAAC,EAAD,CACE3L,KAAMA,EACNvC,QAASA,GAdA,WACG,MAAdkO,GAAmBrL,QAAQC,IAAI,eAaFqK,GAC3Be,UAAWA,EACXC,gBAAiBA,EACjBrB,MAAOA,M,kBCxCFgE,UAxBW,WAAoB,IACpC/O,EAAQgP,cAARhP,IADmC,EAET1C,mBAAiB,IAFR,mBAEpC8N,EAFoC,KAEzBC,EAFyB,KAIvC4D,EAAiBC,cAQrB,OAHA5D,qBAAU,kBAAM1K,YAAWyK,EAAcrL,KAAM,CAACA,IAEhDoL,EAAUmC,MAAK,SAACxB,EAAMC,GAAP,OAAgBD,EAAK3L,WAAW+O,cAAcnD,EAAK5L,eAEhE,oCACE,kBAACgP,EAAA,EAAUC,KAAX,CAAgBC,UAAW,qBAAsB5N,IAAK,gBACpD,kBAAC6N,EAAA,EAAD,CAAQC,QAAQ,YAAYC,QAVlC,WACER,EAAerM,KAAf,sBAAmC5C,MAS/B,oBAWR,SAAsBoL,EAAmBpL,GACvC,IAAI8O,EAAY,GACZY,EAAgB,GAChBC,EAA2B,GAE/BvE,EAAU5J,SAAQ,SAACoO,EAASlF,GAER,KAAdoE,IAAkBA,EAAYc,EAAQxP,YACtC0O,IAAcc,EAAQxP,aACxBuP,EAAU/M,KACR,kBAACwM,EAAA,EAAUC,KAAX,CAAgBC,UAAW,qBAAsB5N,IAAG,gBAAWoN,IAC7D,kBAAC,EAAD,CAAe1D,UAAWsE,MAI9BZ,EAAYc,EAAQxP,WACpBsP,EAAQ,IAEVA,EAAM9M,KAAKgN,MAETF,EAAM/M,OAAS,GACjBgN,EAAU/M,KACR,kBAACwM,EAAA,EAAUC,KAAX,CAAgBC,UAAW,qBAAsB5N,IAAG,gBAAWoN,IAC7D,kBAAC,EAAD,CAAe1D,UAAWsE,MAMhC,OAAO,kBAACN,EAAA,EAAD,CAAWI,QAAQ,SAASG,GApC9BE,CAAazE","file":"static/js/10.de2056b3.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\n\r\n// options for role column\r\nconst selectOptions = {\r\n  Portiere: 'Portiere',\r\n  Attaccante: 'Attaccante',\r\n  Master: 'Master'\r\n};\r\n\r\n// Filter\r\nlet nameFilter;\r\nlet surnameFilter;\r\nlet aliasFilter;\r\nlet roleFilter;\r\nlet emailFilter;\r\nlet phoneFilter;\r\n\r\nexport function clearAllFilter() {\r\n  nameFilter('');\r\n  surnameFilter('');\r\n  aliasFilter('');\r\n  roleFilter('');\r\n  emailFilter('');\r\n  phoneFilter('');\r\n}\r\n\r\n// Columns default\r\nconst playerColumns = isEditable => [\r\n  { dataField: 'id', text: 'ID', editable: false, headerStyle: (column, colIndex) => ({ width: '3%' }) },\r\n  {\r\n    dataField: 'name',\r\n    text: 'Nome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (nameFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'surname',\r\n    text: 'Cognome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '16%' : '25%' }),\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (surnameFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'alias',\r\n    text: 'Alias',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: isEditable ? '17%' : '25%' }),\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (aliasFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'role',\r\n    text: 'Roulo',\r\n    headerClasses: 'player-table-header-element',\r\n    headerStyle: (column, colIndex) => ({ width: `${isEditable ? '11' : '15'}%` }),\r\n    filter: selectFilter({\r\n      placeholder: 'Filtra...',\r\n      options: selectOptions,\r\n      getFilter: filter => (roleFilter = filter)\r\n    }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      getOptions: _ => {\r\n        return [\r\n          { value: 'Portiere', label: 'Portiere' },\r\n          { value: 'Attaccante', label: 'Attaccante' },\r\n          { value: 'Master', label: 'Master' }\r\n        ];\r\n      }\r\n    }\r\n  },\r\n  {\r\n    dataField: 'email',\r\n    text: 'Email',\r\n    headerStyle: (column, colIndex) => ({ width: '20%' }),\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (emailFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'phone',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    text: 'Telefono',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    hidden: !isEditable,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (phoneFilter = filter)\r\n    })\r\n  },\r\n  { dataField: 'match_played', text: 'Partite Giocate', hidden: true },\r\n  { dataField: 'match_won', text: 'Vittorie', hidden: true },\r\n  { dataField: 'total_score', text: 'Punteggio', hidden: true }\r\n];\r\n\r\nexport default playerColumns;\r\n\r\n// Custom export button\r\nexport const ExportCSVButton = props => {\r\n  return (\r\n    <Button disabled className=\"btn btn-success\" onClick={() => props.onExport()}>\r\n      Esporta in CSV\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport const fetchPlayers = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(tId ? `/api/v1/player/list/${tId}` : '/api/v1/player/list', {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result = await response.json();\r\n    const model = [...result, getEmptyPlayer('Nessun Giocatore')];\r\n    console.log('fetchPlayers.result : ', model);\r\n    setterFunction(model);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  let value = '';\r\n  if (!selectedOption) return '';\r\n  if (selectedOption.alias) {\r\n    value = selectedOption.alias;\r\n  } else {\r\n    value = selectedOption.surname ? `${selectedOption.name} - ${selectedOption.surname}` : selectedOption.name;\r\n  }\r\n  return value;\r\n}\r\n\r\nexport function getEmptyPlayer(label) {\r\n  return {\r\n    id: null,\r\n    name: '',\r\n    surname: '',\r\n    alias: '',\r\n    label: label || '',\r\n    role: 'Portiere',\r\n    email: '',\r\n    phone: '',\r\n    match_played: 0,\r\n    match_won: 0,\r\n    total_score: 0,\r\n    editable: false\r\n  };\r\n}\r\n","import React, { useState } from 'react';\r\nimport Select from 'react-select';\r\nimport { valueFormatter } from './helper';\r\nimport makeAnimated from 'react-select/animated';\r\n\r\n// Probabilmente il componente Select usa Ref.... Lascio cosi..\r\nconst animatedComponents = makeAnimated();\r\n\r\nconst PlayerSelection = React.forwardRef((props, ref) => {\r\n  const [selectedOption, setSelectedOption] = useState();\r\n  const { row, columnIndex, id, onUpdate, onSelect, options } = props;\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  function getValue() {\r\n    return valueFormatter(selectedOption);\r\n  }\r\n\r\n  const handleChange = selectedOption => {\r\n    selectedOption.pairId = id;\r\n    setSelectedOption(selectedOption);\r\n    const value = valueFormatter(selectedOption);\r\n    onUpdate(value);\r\n    onSelect(selectedOption, row.id, columnIndex);\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      components={animatedComponents}\r\n      options={options}\r\n      onChange={handleChange}\r\n      value={selectedOption}\r\n      placeholder=\"Cerca...\"\r\n      isSearchable\r\n      isClearable\r\n    />\r\n  );\r\n});\r\n\r\nexport default PlayerSelection;\r\n","import React from 'react';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport PlayerSelect from '../Player/select';\r\nimport { getEmptyPlayer } from '../Player/helper';\r\n\r\nexport const columns = (onSelect, options) => [\r\n  { dataField: 'id', text: 'ID', editable: false, hidden: true, align: () => 'center' },\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, align: () => 'center' },\r\n  {\r\n    dataField: 'player1.alias',\r\n    text: 'Giocatore 1',\r\n    align: () => 'center',\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n      <PlayerSelect\r\n        {...editorProps}\r\n        id={columnIndex}\r\n        row={row}\r\n        rowIndex={rowIndex}\r\n        columnIndex={columnIndex}\r\n        value={value}\r\n        onSelect={onSelect}\r\n        options={options}\r\n      />\r\n    ),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' })\r\n  },\r\n  {\r\n    dataField: 'player2.alias',\r\n    text: 'Giocatore 2',\r\n    align: () => 'center',\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n      <PlayerSelect\r\n        {...editorProps}\r\n        id={columnIndex}\r\n        row={row}\r\n        rowIndex={rowIndex}\r\n        columnIndex={columnIndex}\r\n        value={value}\r\n        onSelect={onSelect}\r\n        options={options}\r\n      />\r\n    ),\r\n    headerStyle: (column, colIndex) => ({ width: '20%' })\r\n  },\r\n  { dataField: 'pairAlias', text: 'Alias Coppia', headerStyle: (column, colIndex) => ({ width: '25%' }) },\r\n  {\r\n    dataField: 'stage1Name',\r\n    text: 'Nome girone',\r\n    align: () => 'center',\r\n    headerStyle: (column, colIndex) => ({ width: '10%' }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: 'abcdefghijklmnopqrstuvwxyz'\r\n        .toUpperCase()\r\n        .split('')\r\n        .map(e => {\r\n          return { value: e, label: e };\r\n        })\r\n    }\r\n  },\r\n  {\r\n    dataField: 'paid1',\r\n    text: 'Pagato 1',\r\n    align: () => 'center',\r\n    headerStyle: (column, colIndex) => ({ width: '7,5%' }),\r\n    editor: {\r\n      type: Type.CHECKBOX,\r\n      value: 'Si:No'\r\n    },\r\n    /*\r\n    formatter: (cell, row, rowIndex) => {\r\n      console.log(cell);\r\n      return (\r\n        <InputGroup>\r\n          <InputGroup.Checkbox style={{ margin: 'auto' }} onCancechecked={cell}></InputGroup.Checkbox>\r\n        </InputGroup>\r\n      );\r\n    },*/\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (content !== 'Si') return { backgroundColor: '#ffbf47' };\r\n    }\r\n  },\r\n  {\r\n    dataField: 'paid2',\r\n    text: 'Pagato 2',\r\n    align: () => 'center',\r\n    headerStyle: (column, colIndex) => ({ width: '7,5%' }),\r\n    editor: {\r\n      type: Type.CHECKBOX,\r\n      value: 'Si:No'\r\n    },\r\n    /*\r\n    formatter: (cell, row, rowIndex) => {\r\n      console.log(cell);\r\n      return (\r\n        <InputGroup>\r\n          <InputGroup.Checkbox style={{ margin: 'auto' }} onCancechecked={cell}></InputGroup.Checkbox>\r\n        </InputGroup>\r\n      );\r\n    },*/\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (content !== 'Si') return { backgroundColor: '#ffbf47' };\r\n    }\r\n  }\r\n];\r\n\r\nexport const cellEditProps = editable =>\r\n  cellEditFactory({\r\n    mode: editable ? 'click' : 'none',\r\n    blurToSave: true,\r\n    afterSaveCell: (oldValue, newValue, row, column) => {\r\n      // Aggiornamento per queste due colonne viene eseguito dalla funzione onSelect\r\n      if (column.dataField === 'player1.alias' || column.dataField === 'player2.alias') return;\r\n      (async () => {\r\n        const response = await fetch('/api/v1/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row)\r\n        });\r\n        await response.json();\r\n      })();\r\n    }\r\n  });\r\n\r\nexport function getEmptyRowModel() {\r\n  return {\r\n    id: null,\r\n    rowNumber: null,\r\n    tId: null,\r\n    player1: getEmptyPlayer(),\r\n    player2: getEmptyPlayer(),\r\n    pairAlias: '',\r\n    stage1Name: '',\r\n    paid1: 'No',\r\n    paid2: 'No'\r\n  };\r\n}\r\n\r\nexport const fetchData = async tId => {\r\n  // Fetch Pairs\r\n  let response = await fetch(`/api/v1/pair/list/?tId=${tId}`, {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const rows = await response.json();\r\n\r\n  response = await fetch(tId ? `/api/v1/player/list/${tId}` : '/api/v1/player/list', {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const result = await response.json();\r\n  const players = [...result, getEmptyPlayer('Nessun Giocatore')];\r\n\r\n  // Fetch Tournament\r\n  response = await fetch(`/api/v1/tournament/${tId}`, {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const tournament = await response.json();\r\n\r\n  return { rows, players, tournament };\r\n};\r\n\r\nexport const fetchPairs = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(`/api/v1/pair/list/?tId=${tId}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result = await response.json();\r\n    setterFunction(result);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  console.log('valueFormatter : ', selectedOption);\r\n  if (selectedOption.pairAlias && selectedOption.pairAlias !== '')\r\n    return `${selectedOption.pairAlias} ( ${selectedOption.id} )`;\r\n  return createAlias(selectedOption);\r\n}\r\n\r\nexport function createAlias(selectedOption) {\r\n  console.log('createAlias : ', selectedOption);\r\n  let value = `${selectedOption.rowNumber} : `;\r\n  const { player1, player2, id } = selectedOption;\r\n  value += player1.alias ? player1.alias : player1.name;\r\n  value += ' - ' + player2.alias ? player2.alias : player2.name;\r\n  value += ` ( ${id} )`;\r\n  return value;\r\n}\r\n","import { Children, cloneElement, isValidElement } from 'react';\n/**\n * Given `this.props.children`, return an object mapping key to child.\n *\n * @param {*} children `this.props.children`\n * @return {object} Mapping of key to child\n */\n\nexport function getChildMapping(children, mapFn) {\n  var mapper = function mapper(child) {\n    return mapFn && isValidElement(child) ? mapFn(child) : child;\n  };\n\n  var result = Object.create(null);\n  if (children) Children.map(children, function (c) {\n    return c;\n  }).forEach(function (child) {\n    // run the map function here instead so that the key is the computed one\n    result[child.key] = mapper(child);\n  });\n  return result;\n}\n/**\n * When you're adding or removing children some may be added or removed in the\n * same render pass. We want to show *both* since we want to simultaneously\n * animate elements in and out. This function takes a previous set of keys\n * and a new set of keys and merges them with its best guess of the correct\n * ordering. In the future we may expose some of the utilities in\n * ReactMultiChild to make this easy, but for now React itself does not\n * directly have this concept of the union of prevChildren and nextChildren\n * so we implement it here.\n *\n * @param {object} prev prev children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @param {object} next next children as returned from\n * `ReactTransitionChildMapping.getChildMapping()`.\n * @return {object} a key set that contains all keys in `prev` and all keys\n * in `next` in a reasonable order.\n */\n\nexport function mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  function getValueForKey(key) {\n    return key in next ? next[key] : prev[key];\n  } // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  var nextKeysPending = Object.create(null);\n  var pendingKeys = [];\n\n  for (var prevKey in prev) {\n    if (prevKey in next) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  var i;\n  var childMapping = {};\n\n  for (var nextKey in next) {\n    if (nextKeysPending[nextKey]) {\n      for (i = 0; i < nextKeysPending[nextKey].length; i++) {\n        var pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nfunction getProp(child, prop, props) {\n  return props[prop] != null ? props[prop] : child.props[prop];\n}\n\nexport function getInitialChildMapping(props, onExited) {\n  return getChildMapping(props.children, function (child) {\n    return cloneElement(child, {\n      onExited: onExited.bind(null, child),\n      in: true,\n      appear: getProp(child, 'appear', props),\n      enter: getProp(child, 'enter', props),\n      exit: getProp(child, 'exit', props)\n    });\n  });\n}\nexport function getNextChildMapping(nextProps, prevChildMapping, onExited) {\n  var nextChildMapping = getChildMapping(nextProps.children);\n  var children = mergeChildMappings(prevChildMapping, nextChildMapping);\n  Object.keys(children).forEach(function (key) {\n    var child = children[key];\n    if (!isValidElement(child)) return;\n    var hasPrev = key in prevChildMapping;\n    var hasNext = key in nextChildMapping;\n    var prevChild = prevChildMapping[key];\n    var isLeaving = isValidElement(prevChild) && !prevChild.props.in; // item is new (entering)\n\n    if (hasNext && (!hasPrev || isLeaving)) {\n      // console.log('entering', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: true,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    } else if (!hasNext && hasPrev && !isLeaving) {\n      // item is old (exiting)\n      // console.log('leaving', key)\n      children[key] = cloneElement(child, {\n        in: false\n      });\n    } else if (hasNext && hasPrev && isValidElement(prevChild)) {\n      // item hasn't changed transition states\n      // copy over the last transition props;\n      // console.log('unchanged', key)\n      children[key] = cloneElement(child, {\n        onExited: onExited.bind(null, child),\n        in: prevChild.props.in,\n        exit: getProp(child, 'exit', nextProps),\n        enter: getProp(child, 'enter', nextProps)\n      });\n    }\n  });\n  return children;\n}","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TransitionGroupContext from './TransitionGroupContext';\nimport { getChildMapping, getInitialChildMapping, getNextChildMapping } from './utils/ChildMapping';\n\nvar values = Object.values || function (obj) {\n  return Object.keys(obj).map(function (k) {\n    return obj[k];\n  });\n};\n\nvar defaultProps = {\n  component: 'div',\n  childFactory: function childFactory(child) {\n    return child;\n  }\n  /**\n   * The `<TransitionGroup>` component manages a set of transition components\n   * (`<Transition>` and `<CSSTransition>`) in a list. Like with the transition\n   * components, `<TransitionGroup>` is a state machine for managing the mounting\n   * and unmounting of components over time.\n   *\n   * Consider the example below. As items are removed or added to the TodoList the\n   * `in` prop is toggled automatically by the `<TransitionGroup>`.\n   *\n   * Note that `<TransitionGroup>`  does not define any animation behavior!\n   * Exactly _how_ a list item animates is up to the individual transition\n   * component. This means you can mix and match animations across different list\n   * items.\n   */\n\n};\n\nvar TransitionGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TransitionGroup, _React$Component);\n\n  function TransitionGroup(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n\n    var handleExited = _this.handleExited.bind(_assertThisInitialized(_assertThisInitialized(_this))); // Initial children should all be entering, dependent on appear\n\n\n    _this.state = {\n      contextValue: {\n        isMounting: true\n      },\n      handleExited: handleExited,\n      firstRender: true\n    };\n    return _this;\n  }\n\n  var _proto = TransitionGroup.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.mounted = true;\n    this.setState({\n      contextValue: {\n        isMounting: false\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.mounted = false;\n  };\n\n  TransitionGroup.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, _ref) {\n    var prevChildMapping = _ref.children,\n        handleExited = _ref.handleExited,\n        firstRender = _ref.firstRender;\n    return {\n      children: firstRender ? getInitialChildMapping(nextProps, handleExited) : getNextChildMapping(nextProps, prevChildMapping, handleExited),\n      firstRender: false\n    };\n  };\n\n  _proto.handleExited = function handleExited(child, node) {\n    var currentChildMapping = getChildMapping(this.props.children);\n    if (child.key in currentChildMapping) return;\n\n    if (child.props.onExited) {\n      child.props.onExited(node);\n    }\n\n    if (this.mounted) {\n      this.setState(function (state) {\n        var children = _extends({}, state.children);\n\n        delete children[child.key];\n        return {\n          children: children\n        };\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        Component = _this$props.component,\n        childFactory = _this$props.childFactory,\n        props = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"childFactory\"]);\n\n    var contextValue = this.state.contextValue;\n    var children = values(this.state.children).map(childFactory);\n    delete props.appear;\n    delete props.enter;\n    delete props.exit;\n\n    if (Component === null) {\n      return React.createElement(TransitionGroupContext.Provider, {\n        value: contextValue\n      }, children);\n    }\n\n    return React.createElement(TransitionGroupContext.Provider, {\n      value: contextValue\n    }, React.createElement(Component, props, children));\n  };\n\n  return TransitionGroup;\n}(React.Component);\n\nTransitionGroup.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  /**\n   * `<TransitionGroup>` renders a `<div>` by default. You can change this\n   * behavior by providing a `component` prop.\n   * If you use React v16+ and would like to avoid a wrapping `<div>` element\n   * you can pass in `component={null}`. This is useful if the wrapping div\n   * borks your css styles.\n   */\n  component: PropTypes.any,\n\n  /**\n   * A set of `<Transition>` components, that are toggled `in` and out as they\n   * leave. the `<TransitionGroup>` will inject specific transition props, so\n   * remember to spread them through if you are wrapping the `<Transition>` as\n   * with our `<Fade>` example.\n   *\n   * While this component is meant for multiple `Transition` or `CSSTransition`\n   * children, sometimes you may want to have a single transition child with\n   * content that you want to be transitioned out and in when you change it\n   * (e.g. routes, images etc.) In that case you can change the `key` prop of\n   * the transition child as you change its content, this will cause\n   * `TransitionGroup` to transition the child out and back in.\n   */\n  children: PropTypes.node,\n\n  /**\n   * A convenience prop that enables or disables appear animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  appear: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables enter animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  enter: PropTypes.bool,\n\n  /**\n   * A convenience prop that enables or disables exit animations\n   * for all children. Note that specifying this will override any defaults set\n   * on individual children Transitions.\n   */\n  exit: PropTypes.bool,\n\n  /**\n   * You may need to apply reactive updates to a child as it is exiting.\n   * This is generally done by using `cloneElement` however in the case of an exiting\n   * child the element has already been removed and not accessible to the consumer.\n   *\n   * If you do need to update a child as it leaves you can provide a `childFactory`\n   * to wrap every child, even the ones that are leaving.\n   *\n   * @type Function(child: ReactElement) -> ReactElement\n   */\n  childFactory: PropTypes.func\n} : {};\nTransitionGroup.defaultProps = defaultProps;\nexport default TransitionGroup;","import React, { Component } from 'react';\nimport memoizeOne from 'memoize-one';\nimport '@emotion/core';\nimport 'react-dom';\nimport 'prop-types';\nimport '../../dist/utils-06b0d5a4.browser.esm.js';\nimport { x as exportedEqual, w as defaultComponents } from '../../dist/index-4322c0ed.browser.esm.js';\nimport '@emotion/css';\nimport 'react-input-autosize';\nimport { Transition, TransitionGroup } from 'react-transition-group';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n// strip transition props off before spreading onto select component\n// note we need to be explicit about innerRef for flow\nvar AnimatedInput = function AnimatedInput(WrappedComponent) {\n  return function (_ref) {\n    var inProp = _ref.in,\n        onExited = _ref.onExited,\n        appear = _ref.appear,\n        enter = _ref.enter,\n        exit = _ref.exit,\n        props = _objectWithoutPropertiesLoose(_ref, [\"in\", \"onExited\", \"appear\", \"enter\", \"exit\"]);\n\n    return React.createElement(WrappedComponent, props);\n  };\n};\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nvar Fade = function Fade(_ref) {\n  var Tag = _ref.component,\n      _ref$duration = _ref.duration,\n      duration = _ref$duration === void 0 ? 1 : _ref$duration,\n      inProp = _ref.in,\n      onExited = _ref.onExited,\n      props = _objectWithoutPropertiesLoose$1(_ref, [\"component\", \"duration\", \"in\", \"onExited\"]);\n\n  var transition = {\n    entering: {\n      opacity: 0\n    },\n    entered: {\n      opacity: 1,\n      transition: \"opacity \" + duration + \"ms\"\n    },\n    exiting: {\n      opacity: 0\n    },\n    exited: {\n      opacity: 0\n    }\n  };\n  return React.createElement(Transition, {\n    mountOnEnter: true,\n    unmountOnExit: true,\n    in: inProp,\n    timeout: duration\n  }, function (state) {\n    var innerProps = {\n      style: _extends({}, transition[state])\n    };\n    return React.createElement(Tag, _extends({\n      innerProps: innerProps\n    }, props));\n  });\n}; // ==============================\n// Collapse Transition\n// ==============================\n\nvar collapseDuration = 260;\n// wrap each MultiValue with a collapse transition; decreases width until\n// finally removing from DOM\nvar Collapse =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Collapse, _Component);\n\n  function Collapse() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.duration = collapseDuration;\n    _this.rafID = void 0;\n    _this.state = {\n      width: 'auto'\n    };\n    _this.transition = {\n      exiting: {\n        width: 0,\n        transition: \"width \" + _this.duration + \"ms ease-out\"\n      },\n      exited: {\n        width: 0\n      }\n    };\n\n    _this.getWidth = function (ref) {\n      if (ref && isNaN(_this.state.width)) {\n        /*\n          Here we're invoking requestAnimationFrame with a callback invoking our\n          call to getBoundingClientRect and setState in order to resolve an edge case\n          around portalling. Certain portalling solutions briefly remove children from the DOM\n          before appending them to the target node. This is to avoid us trying to call getBoundingClientrect\n          while the Select component is in this state.\n        */\n        // cannot use `offsetWidth` because it is rounded\n        _this.rafID = window.requestAnimationFrame(function () {\n          var _ref$getBoundingClien = ref.getBoundingClientRect(),\n              width = _ref$getBoundingClien.width;\n\n          _this.setState({\n            width: width\n          });\n        });\n      }\n    };\n\n    _this.getStyle = function (width) {\n      return {\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        width: width\n      };\n    };\n\n    _this.getTransition = function (state) {\n      return _this.transition[state];\n    };\n\n    return _this;\n  }\n\n  var _proto = Collapse.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.rafID) {\n      window.cancelAnimationFrame(this.rafID);\n    }\n  } // width must be calculated; cannot transition from `undefined` to `number`\n  ;\n\n  _proto.render = function render() {\n    var _this2 = this;\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        inProp = _this$props.in;\n    var width = this.state.width;\n    return React.createElement(Transition, {\n      enter: false,\n      mountOnEnter: true,\n      unmountOnExit: true,\n      in: inProp,\n      timeout: this.duration\n    }, function (state) {\n      var style = _extends({}, _this2.getStyle(width), _this2.getTransition(state));\n\n      return React.createElement(\"div\", {\n        ref: _this2.getWidth,\n        style: style\n      }, children);\n    });\n  };\n\n  return Collapse;\n}(Component);\n\nfunction _extends$1() { _extends$1 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$1.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose$2(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar AnimatedMultiValue = function AnimatedMultiValue(WrappedComponent) {\n  return function (_ref) {\n    var inProp = _ref.in,\n        onExited = _ref.onExited,\n        props = _objectWithoutPropertiesLoose$2(_ref, [\"in\", \"onExited\"]);\n\n    return React.createElement(Collapse, {\n      in: inProp,\n      onExited: onExited\n    }, React.createElement(WrappedComponent, _extends$1({\n      cropWithEllipsis: inProp\n    }, props)));\n  };\n};\n\nfunction _extends$2() { _extends$2 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$2.apply(this, arguments); }\n\nvar AnimatedPlaceholder = function AnimatedPlaceholder(WrappedComponent) {\n  return function (props) {\n    return React.createElement(Fade, _extends$2({\n      component: WrappedComponent,\n      duration: props.isMulti ? collapseDuration : 1\n    }, props));\n  };\n};\n\nfunction _extends$3() { _extends$3 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$3.apply(this, arguments); }\n\nvar AnimatedSingleValue = function AnimatedSingleValue(WrappedComponent) {\n  return function (props) {\n    return React.createElement(Fade, _extends$3({\n      component: WrappedComponent\n    }, props));\n  };\n};\n\nfunction _extends$4() { _extends$4 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$4.apply(this, arguments); }\n\n// make ValueContainer a transition group\nvar AnimatedValueContainer = function AnimatedValueContainer(WrappedComponent) {\n  return function (props) {\n    return React.createElement(TransitionGroup, _extends$4({\n      component: WrappedComponent\n    }, props));\n  };\n};\n\nfunction _extends$5() { _extends$5 = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends$5.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose$3(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nvar makeAnimated = function makeAnimated(externalComponents) {\n  if (externalComponents === void 0) {\n    externalComponents = {};\n  }\n\n  var components = defaultComponents({\n    components: externalComponents\n  });\n\n  var Input = components.Input,\n      MultiValue = components.MultiValue,\n      Placeholder = components.Placeholder,\n      SingleValue = components.SingleValue,\n      ValueContainer = components.ValueContainer,\n      rest = _objectWithoutPropertiesLoose$3(components, [\"Input\", \"MultiValue\", \"Placeholder\", \"SingleValue\", \"ValueContainer\"]);\n\n  return _extends$5({\n    Input: AnimatedInput(Input),\n    MultiValue: AnimatedMultiValue(MultiValue),\n    Placeholder: AnimatedPlaceholder(Placeholder),\n    SingleValue: AnimatedSingleValue(SingleValue),\n    ValueContainer: AnimatedValueContainer(ValueContainer)\n  }, rest);\n};\n\nvar AnimatedComponents = makeAnimated();\nvar Input = AnimatedComponents.Input;\nvar MultiValue = AnimatedComponents.MultiValue;\nvar Placeholder = AnimatedComponents.Placeholder;\nvar SingleValue = AnimatedComponents.SingleValue;\nvar ValueContainer = AnimatedComponents.ValueContainer;\nvar index = memoizeOne(makeAnimated, exportedEqual);\n\nexport default index;\nexport { Input, MultiValue, Placeholder, SingleValue, ValueContainer };\n","import React from 'react';\r\nimport { headerPropsType } from './type';\r\n\r\nconst tableHeader: React.FC<headerPropsType> = ({ title, saved }: headerPropsType) => {\r\n  const divStyle = {\r\n    color: saved ? '#4feb34' : undefined\r\n  };\r\n  return (\r\n    <h3>\r\n      <b style={divStyle}>\r\n        Girone - <strong>{title}</strong>\r\n      </b>\r\n      {saved ? <small> - Salvataggio in corso...</small> : null}\r\n    </h3>\r\n  );\r\n};\r\n\r\nexport default tableHeader;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Select from 'react-select';\r\nimport { fetchPairs, valueFormatter } from './helper';\r\n\r\n// Probabilmente il componente Select usa Ref.... Lascio cosi..\r\nconst PairsSelection = React.forwardRef((props, ref) => {\r\n  const [pairsList, setPairsList] = useState([]);\r\n  const [selectedOption, setSelectedOption] = useState();\r\n  const { row, columnIndex, id, onUpdate, onSelect, tId } = props;\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  function getValue() {\r\n    return valueFormatter(selectedOption);\r\n  }\r\n\r\n  const handleChange = selectedOption => {\r\n    selectedOption.pairId = id;\r\n    setSelectedOption(selectedOption);\r\n    // vedi il campo label sul manager\r\n    const value = valueFormatter(selectedOption);\r\n    onUpdate(value);\r\n    onSelect(selectedOption, row.id, columnIndex);\r\n  };\r\n\r\n  useEffect(() => fetchPairs(setPairsList, tId), [tId]);\r\n\r\n  return (\r\n    <Select\r\n      options={pairsList}\r\n      onChange={handleChange}\r\n      value={selectedOption}\r\n      placeholder=\"Cerca...\"\r\n      isSearchable\r\n      isClearable\r\n    />\r\n  );\r\n});\r\n\r\nexport default PairsSelection;\r\n","import React from 'react';\r\nimport PairSelect from '../Pair/select';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\n\r\nconst newColumn = (index, rowNumber) => {\r\n  return {\r\n    id: `col${index}`,\r\n    dataField: `col${index}`,\r\n    text: index.toString(),\r\n    type: 'number',\r\n    headerStyle: (column, colIndex) => ({ width: `${75 / rowNumber}%` }),\r\n    headerAlign: (column, colIndex) => 'center',\r\n    editable: (content, row, rowIndex, columnIndex) => rowIndex !== columnIndex - 2,\r\n    align: (cell, row, rowIndex, colIndex) => 'center',\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (rowIndex === columnIndex - 2) return { backgroundColor: '#6d706e' };\r\n      if (parseInt(content, 10) === 3 || parseInt(content, 10) === 2) return { backgroundColor: 'rgb(196, 247, 160)' };\r\n      if (parseInt(content, 10) === 1 || parseInt(content, 10) === 0) return { backgroundColor: 'rgb(255, 147, 147)' };\r\n      return null;\r\n    },\r\n    /* TODO:\r\n    editorStyle: (cell, row, rowIndex, colIndex) => {\r\n      console.log('editorStyle : ', cell, row, rowIndex, colIndex);\r\n      return { width: '100%', height: 'auto' };\r\n    }, */\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: [\r\n        { value: '3', label: '3' },\r\n        { value: '2', label: '2' },\r\n        { value: '1', label: '1' },\r\n        { value: '0', label: '0' },\r\n        { value: null, label: '' }\r\n      ]\r\n    }\r\n  };\r\n};\r\n\r\nexport function rowsGenerator(pairsList) {\r\n  let rows = [];\r\n  for (let ii = 0; ii < pairsList.length; ii++) {\r\n    rows.push({ pair: pairsList[ii], rowNumber: ii + 1 });\r\n    for (let jj = 1; jj <= pairsList.length; jj++) {\r\n      rows[ii][`col${jj}`] = null;\r\n    }\r\n    rows[ii]['total'] = 0;\r\n    rows[ii]['place'] = 0;\r\n    rows[ii]['id'] = `row-${pairsList[0].tId}-${ii}`;\r\n  }\r\n  //console.log(rows);\r\n  return rows;\r\n}\r\n\r\nexport const columns = (onSelect, pairsList) => {\r\n  /**\r\n   * TODO: aggiungere id su tutte le colonne\r\n   *\r\n   *     id: 'punteggio',\r\n   *     dataField: 'punteggio',\r\n   *     text: 'Punteggio',\r\n   *\r\n   *\r\n   */\r\n  let baseColumns = [\r\n    {\r\n      // Nome Coppia ( In realta contiene un oggetto di tipo Pair)\r\n      id: 'pairLabel',\r\n      dataField: 'pair.label',\r\n      text: 'Nome Coppia',\r\n      editable: false,\r\n      headerStyle: (column, colIndex) => ({ width: '15%' }),\r\n      align: (cell, row, rowIndex, colIndex) => 'center',\r\n      headerAlign: (column, colIndex) => 'center',\r\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n        <PairSelect\r\n          {...editorProps}\r\n          id={columnIndex}\r\n          row={row}\r\n          rowIndex={rowIndex}\r\n          columnIndex={columnIndex}\r\n          value={value}\r\n          onSelect={onSelect}\r\n          tId={pairsList[0].tId}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      // Numbero riga per riferimento visivo\r\n      id: 'rowNumber',\r\n      dataField: 'rowNumber',\r\n      text: 'ID',\r\n      editable: false,\r\n      type: 'number',\r\n      headerStyle: (column, colIndex) => ({ width: '5%' }),\r\n      headerAlign: (column, colIndex) => 'center',\r\n      style: (content, row, rowIndex, columnIndex) => {\r\n        return { backgroundColor: '#f9ffdb' };\r\n      }\r\n    }\r\n  ];\r\n\r\n  // generazione dinamica colonne intermedie\r\n  for (let ii = 0; ii < pairsList.length; ii++) {\r\n    baseColumns.push(newColumn(ii + 1, pairsList.length));\r\n  }\r\n\r\n  baseColumns.push(\r\n    {\r\n      // Totale coppia\r\n      id: 'totale',\r\n      dataField: 'total',\r\n      text: 'Totale',\r\n      editable: false,\r\n      type: 'number',\r\n      headerStyle: (column, colIndex) => ({ width: '5%' }),\r\n      headerAlign: (column, colIndex) => 'center'\r\n    },\r\n    {\r\n      // Posizionamento coppia\r\n      id: 'place',\r\n      dataField: 'place',\r\n      text: 'Posizione',\r\n      editable: true,\r\n      type: 'number',\r\n      headerStyle: (column, colIndex) => ({ width: '5%' }),\r\n      headerAlign: (column, colIndex) => 'center'\r\n    }\r\n  );\r\n  return baseColumns;\r\n};\r\n\r\n/**\r\n *\r\n * @param value il valore di partenza\r\n * @returns il valore opposto a quello di partenze\r\n *\r\n *  3->0 , 2->1 , 1->2 , 0->3\r\n */\r\nexport function getOpposite(value) {\r\n  /*\r\n   * Attenzione :\r\n   *  !0 = true\r\n   *  !''  = true\r\n   *  !null   = true\r\n   *  !undefined  = true\r\n   */\r\n  if (value === null) return null;\r\n  switch (value) {\r\n    case 3:\r\n      return 0;\r\n    case 2:\r\n      return 1;\r\n    case 1:\r\n      return 2;\r\n    case 0:\r\n      return 3;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} obj1\r\n * @param {*} obj2\r\n */\r\nexport function comparator(obj1, obj2) {\r\n  // in caso di parit valuto scontro diretto\r\n  if (obj1.total === obj2.total) {\r\n    if (obj1[`col${obj2.rowNumber}`] === 3 || obj1[`col${obj2.rowNumber}`] === 2) {\r\n      return -1;\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n  return obj2.total - obj1.total;\r\n}\r\n","import React, { useState } from 'react';\r\n// table\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\n// helper\r\n\r\nimport TableHeader from './header';\r\nimport { getOpposite, comparator } from './helper';\r\nimport { SessionContext, isEditable } from '../core/SessionContext';\r\n\r\n// style\r\nimport './style.css';\r\n\r\nconst Stage1Table = ({ rows, columns, tableName, updateCellValue, saved }) => {\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n\r\n  const cellEditProps = editable =>\r\n    cellEditFactory({\r\n      mode: editable ? 'click' : 'none',\r\n      blurToSave: true,\r\n      beforeSaveCell: (oldValue, newValue, row, column) => {\r\n        if (column.id.startsWith('col')) {\r\n          // Aggiorno cella opposta\r\n          rows[parseInt(column.text) - 1][`col${row.rowNumber}`] = getOpposite(newValue);\r\n          // Aggiorno posizione relativa\r\n          [...rows]\r\n            .sort((e1, e2) => comparator(e1, e2))\r\n            .forEach((row, index) => (rows[row.rowNumber - 1]['place'] = index + 1));\r\n        }\r\n      },\r\n      afterSaveCell: (oldValue, newValue, row, column) => {\r\n        if (column.id.startsWith('col')) {\r\n          // Aggiorno dati sul Db\r\n          updateCellValue(oldValue, newValue, row, column);\r\n          let acc = 0;\r\n          for (let key in row) if (key.startsWith('col')) acc += row[key];\r\n          rows[row.rowNumber - 1]['total'] = acc ? acc : null;\r\n\r\n          acc = 0;\r\n          for (let key in rows[parseInt(column.text) - 1])\r\n            if (key.startsWith('col')) acc += rows[parseInt(column.text) - 1][key];\r\n          rows[parseInt(column.text) - 1]['total'] = acc ? acc : null;\r\n        }\r\n      }\r\n    });\r\n\r\n  const handleOnSelect = (row, isSelected) => {\r\n    setSelectedRows(() => {\r\n      const found = selectedRows.find(e => e.rowNumber === row.rowNumber) ? true : false;\r\n      if (isSelected) {\r\n        return found ? selectedRows : [row, ...selectedRows];\r\n      } else {\r\n        return found ? selectedRows.filter(e => e.rowNumber !== row.rowNumber) : selectedRows;\r\n      }\r\n    });\r\n    // return true or dont return to approve current select action\r\n    return true;\r\n  };\r\n\r\n  const selectRow = {\r\n    mode: 'checkbox',\r\n    onSelect: handleOnSelect,\r\n    onSelectAll: (isSelected, rows) => rows.forEach(row => handleOnSelect(row, isSelected)),\r\n    style: { backgroundColor: '#c8e6c9' }\r\n  };\r\n\r\n  return (\r\n    <SessionContext.Consumer>\r\n      {([session]) => (\r\n        <BootstrapTable\r\n          bootstrap4\r\n          keyField=\"id\"\r\n          data={rows}\r\n          columns={columns}\r\n          selectRow={selectRow}\r\n          cellEdit={cellEditProps(isEditable(session))}\r\n          noDataIndication=\"Nessun dato reperito\"\r\n          wrapperClasses=\"player-table\"\r\n          headerClasses=\"player-table-header\"\r\n          caption={<TableHeader title={tableName} saved={saved} />}\r\n          striped\r\n          hover\r\n        />\r\n      )}\r\n    </SessionContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default Stage1Table;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Stage1Table from './table';\r\nimport { handlerPropsType } from './type';\r\nimport { columns, rowsGenerator, comparator } from './helper';\r\n\r\nconst Stage1Handler = (props: handlerPropsType): JSX.Element => {\r\n  const { pairsList } = props;\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [saved, setIsSaved] = useState(false);\r\n  const [rows, setRows] = useState(rowsGenerator(pairsList));\r\n  const tableName = pairsList[0]?.stage1Name ?? 'Not found';\r\n\r\n  // Aggiornamento dati\r\n  const updateCellValue = async (oldValue: any, newValue: any, row: any, column: any) => {\r\n    const model1 = {\r\n      tId: row.pair.tId,\r\n      tableName,\r\n      score: newValue,\r\n      pair1Id: row.pair.id,\r\n      pair2Id: rows[parseInt(column.text) - 1].pair.id\r\n    };\r\n    const response = await fetch('/api/v1/stage1/cell', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(model1)\r\n    });\r\n    await response.json();\r\n    if (response.ok) {\r\n      setIsSaved(true);\r\n      setTimeout(() => setIsSaved(false), 3000);\r\n    }\r\n  };\r\n\r\n  // Reperimento dati dal db\r\n  useEffect(\r\n    () => {\r\n      const fetchData = async () => {\r\n        setIsLoading(true);\r\n        const response = await fetch('/api/v1/stage1', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ rows, stageName: tableName })\r\n        });\r\n        const result = await response.json();\r\n        // Ordinamento\r\n        [...result]\r\n          .sort((e1, e2) => comparator(e1, e2))\r\n          .forEach((row, index) => (result[row.rowNumber - 1]['place'] = index + 1));\r\n        setRows(result);\r\n        setIsLoading(false);\r\n      };\r\n      fetchData();\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n  const onSelect = () => {\r\n    if (tableName === '1') console.log('onSelect ');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/*saved ? <p>Salvato....</p> : null*/}\r\n      {isLoading ? (\r\n        <h3>\r\n          Caricamento girone <b>{tableName}</b> in corso....\r\n        </h3>\r\n      ) : (\r\n        <Stage1Table\r\n          rows={rows}\r\n          columns={columns(onSelect, pairsList)}\r\n          tableName={tableName}\r\n          updateCellValue={updateCellValue}\r\n          saved={saved}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Stage1Handler;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { fetchPairs } from '../Pair/helper';\r\nimport { Pair } from './type';\r\nimport Stage1Handler from './handler';\r\nimport { ListGroup, Button } from 'react-bootstrap';\r\n\r\n/**\r\n * Wraps multiple table components\r\n */\r\nconst Wrapper: React.FC = (): JSX.Element => {\r\n  const { tId } = useParams();\r\n  const [pairsList, setPairsList] = useState<Pair[]>([]);\r\n\r\n  let currentHistory = useHistory();\r\n  function goBack() {\r\n    currentHistory.push(`/tournament/${tId}`);\r\n  }\r\n\r\n  useEffect(() => fetchPairs(setPairsList, tId), [tId]);\r\n  // sort pairs by stage1Name\r\n  pairsList.sort((obj1, obj2) => obj1.stage1Name.localeCompare(obj2.stage1Name));\r\n  return (\r\n    <>\r\n      <ListGroup.Item className={'inherit-background'} key={'stage-button'}>\r\n        <Button variant=\"secondary\" onClick={goBack}>\r\n          Gestione Coppie\r\n        </Button>\r\n      </ListGroup.Item>\r\n      {renderTables(pairsList, tId)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n\r\nfunction renderTables(pairsList: Pair[], tId: string | undefined): JSX.Element {\r\n  let stageName = '';\r\n  let stage: Pair[] = [];\r\n  let stageList: JSX.Element[] = [];\r\n\r\n  pairsList.forEach((element, index) => {\r\n    // A rottura di stage1Name\r\n    if (stageName === '') stageName = element.stage1Name;\r\n    if (stageName !== element.stage1Name) {\r\n      stageList.push(\r\n        <ListGroup.Item className={'inherit-background'} key={`stage-${stageName}`}>\r\n          <Stage1Handler pairsList={stage} />\r\n        </ListGroup.Item>\r\n      );\r\n      // console.log(`stages ${stageName} :`, stage, stage.length);\r\n      stageName = element.stage1Name;\r\n      stage = [];\r\n    }\r\n    stage.push(element);\r\n  });\r\n  if (stage.length > 0) {\r\n    stageList.push(\r\n      <ListGroup.Item className={'inherit-background'} key={`stage-${stageName}`}>\r\n        <Stage1Handler pairsList={stage} />\r\n      </ListGroup.Item>\r\n    );\r\n    // console.log(`stages ${stageName} :`, stage);\r\n  }\r\n\r\n  return <ListGroup variant=\"flush\">{stageList}</ListGroup>;\r\n}\r\n"],"sourceRoot":""}