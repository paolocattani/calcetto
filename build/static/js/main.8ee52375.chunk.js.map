{"version":3,"sources":["components/core/SessionContext.tsx","components/core/ProtectedRoute.tsx","components/Login/Login.tsx","components/core/utils.ts","components/Tournament/Tournament.jsx","components/Player/helper.js","components/Tournament/helper.ts","components/Player/header.tsx","components/core/Commons.tsx","components/Player/table.jsx","components/Player/select.jsx","components/Pair/helper.js","components/Pair/header.tsx","components/Pair/noData.tsx","components/Pair/table.jsx","components/Stage1/header.tsx","components/Pair/select.jsx","components/Stage1/helper.js","components/Stage1/table.jsx","components/Stage1/handler.tsx","components/core/Routes.ts","components/Stage1/wrapper.tsx","components/Stage2/model.tsx","components/DELETE/Todo.tsx","components/Navbar/Navbar.tsx","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["initialSession","SessionContext","createContext","useSessionContext","useContext","ProtectedRoute","props","currentLocation","useLocation","redirectPath","redirectPathOnAuthentication","console","log","isAuthenticated","setRedirectPathOnAuthentication","pathname","authenticationPath","component","to","render","undefined","Login","sessionContext","updateSessionContext","currentHistory","useHistory","onClick","push","getTodayDate","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","nameFilter","surnameFilter","aliasFilter","roleFilter","IndicatorsContainer","indicatorSeparatorStyle","alignSelf","backgroundColor","marginBottom","marginTop","marginRigth","width","IndicatorSeparator","innerProps","style","cardStyle","margin","FTournament","useState","selectedOption","setSelectedOption","tournamentList","setTournamentList","useEffect","setterFunction","setterFunction2","a","fetch","method","headers","response","json","result","found","tmp","map","e","name","id","value","label","unshift","sort","handleSubmit","event","preventDefault","model","ownerId","progress","public","body","JSON","stringify","res","message","Card","Body","Title","Form","onSubmit","components","options","placeholder","isSearchable","isClearable","onChange","onCreateOption","prevList","Button","type","size","variant","disabled","clearAllFilter","dataField","text","editable","headerClasses","autoSelectText","filter","textFilter","getFilter","selectFilter","0","1","2","editor","Type","SELECT","getOptions","setOptions","row","column","hidden","valueFormatter","alias","surname","tableHeader","_","LoadingModal","show","onHide","Modal","centered","Header","closeButton","Footer","Spinner","animation","SuccessToast","Toast","className","key","Alert","WarningToast","ErrorToast","Player","handleOnSelect","isSelected","setState","state","selectedRows","find","cellEditProps","cellEditFactory","mode","blurToSave","afterSaveCell","oldValue","newValue","rows","isLoading","bind","deleteRow","addRow","this","emptyRow","role","match_played","match_won","total_score","table","selectedRow","selectRow","nonSelectable","onSelect","onSelectAll","forEach","selectColumnStyle","checked","rowIndex","rowKey","Row","Col","keyField","data","columns","exportCSV","ListGroup","horizontal","wrapperClasses","cellEdit","caption","filterFactory","noDataIndication","striped","hover","bootstrap4","React","Component","PlayerSelection","forwardRef","ref","columnIndex","onUpdate","pairId","align","editorRenderer","editorProps","toUpperCase","split","CHECKBOX","content","fetchPairs","tId","pairAlias","rowNumber","player1","player2","createAlias","TableHeader","tournament","noData","optionsLength","players","diff","PairsTable","setIsLoading","successMessage","setSuccessMessage","allertMessage","setAllertMessage","errorMessage","setErrorMessage","setTournament","setRows","setSelectedRows","stage1Number","setStage1Number","newRowsNumber","setNewRowsNumber","useParams","showErrorMessage","setTimeout","showSuccessMessage","stage1Name","paid1","paid2","length","ii","current","e1","e2","localeCompare","updateOptions","player","selected","fetchPlayers","fetchTournament","handleSelect","names","newRows","index","availableRows","Math","floor","md","span","Item","action","missingStage1Name","missingPairs","invalidStage","pairsInStage","reduce","allNames","stageName","MIN_PAIR_PER_STAGE","InputGroup","target","Prepend","Text","FormControl","aria-label","Append","selectedElement","newRowsElement","rowElement","title","saved","divStyle","color","PairsSelection","pairsList","setPairsList","baseColumns","cell","colIndex","headerAlign","toString","parseInt","comparator","obj1","obj2","total","Stage1Table","tableName","updateCellValue","beforeSaveCell","startsWith","getOpposite","acc","Stage1Handler","setIsSaved","pair","jj","rowsGenerator","model1","score","pair1Id","pair2Id","ok","fetchData","routes","path","exact","visible","Pairs","stage","stageList","element","renderTables","PlayerTable","innerElementStyle","flexDirection","alignItems","innerParentStyle","display","justifyContent","alignContent","thisList","pow","location","FNavbar","bg","route","App","defaultProtectedRouteProps","Container","fluid","Boolean","window","hostname","match","ReactDOM","defaultSessionContext","Provider","children","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.8ee52375.chunk.js","sourcesContent":["import { createContext, useContext, useState } from 'react';\r\nimport React from 'react';\r\n\r\nexport interface Session {\r\n  isAuthenticated?: boolean;\r\n  redirectPathOnAuthentication?: string;\r\n}\r\n\r\nexport const initialSession: Session = {};\r\n\r\nexport const SessionContext = createContext<[Session, (session: Session) => void]>([initialSession, () => {}]);\r\nexport const useSessionContext = () => useContext(SessionContext);\r\n\r\nexport const SessionContextProvider: React.FC = props => {\r\n  const [sessionState, setSessionState] = useState(initialSession);\r\n  const defaultSessionContext: [Session, typeof setSessionState] = [sessionState, setSessionState];\r\n\r\n  return <SessionContext.Provider value={defaultSessionContext}>{props.children}</SessionContext.Provider>;\r\n};\r\n","// https://github.com/openscript/react-example-authentication-redirection\r\n\r\nimport * as React from 'react';\r\nimport { Redirect, Route, RouteProps, useLocation } from 'react-router';\r\n\r\nexport interface ProtectedRouteProps extends RouteProps {\r\n  isAuthenticated: boolean;\r\n  authenticationPath: string;\r\n  redirectPathOnAuthentication: string;\r\n  setRedirectPathOnAuthentication: (path: string) => void;\r\n}\r\n\r\nexport const ProtectedRoute: React.FC<ProtectedRouteProps> = props => {\r\n  const currentLocation = useLocation();\r\n  // console.log('Current Location ', currentLocation);\r\n  let redirectPath = props.redirectPathOnAuthentication;\r\n\r\n  // FIXME:\r\n  console.log('ProtectedRoute....');\r\n  if (process.env.NODE_ENV === 'development') return <Route {...props} />;\r\n\r\n  if (!props.isAuthenticated) {\r\n    // console.log('Not Authenticated');\r\n    props.setRedirectPathOnAuthentication(currentLocation.pathname);\r\n    redirectPath = props.authenticationPath;\r\n  }\r\n\r\n  if (redirectPath !== currentLocation.pathname && !props.isAuthenticated) {\r\n    // console.log('Redirecting to : ' + redirectPath);\r\n    const renderComponent = () => <Redirect to={{ pathname: redirectPath }} />;\r\n    return <Route {...props} component={renderComponent} render={undefined} />;\r\n  } else {\r\n    // console.log('Render component', props);\r\n    return <Route {...props} />;\r\n  }\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport { useSessionContext } from '../core/SessionContext';\r\nimport { useHistory } from 'react-router';\r\n\r\n// TODO:\r\nexport const Login: React.FC = () => {\r\n  const [sessionContext, updateSessionContext] = useSessionContext();\r\n  const currentHistory = useHistory();\r\n\r\n  const handleClick = () => {\r\n    updateSessionContext({ ...sessionContext, isAuthenticated: true });\r\n    currentHistory.push('/');\r\n  };\r\n\r\n  return <button onClick={handleClick}>Login</button>;\r\n};\r\n","export function getTodayDate(): string {\r\n  const today = new Date();\r\n  const dd = String(today.getDate()).padStart(2, '0');\r\n  const mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n  const yyyy = today.getFullYear();\r\n\r\n  return `${yyyy}-${mm}-${dd}`;\r\n}\r\n\r\nexport function getRandomIntInclusive(min: number, max: number) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport CreatableSelect from 'react-select/creatable';\r\nimport { components } from 'react-select';\r\nimport { Form, Button, Card } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router';\r\nimport { getTodayDate } from '../core/utils';\r\nimport { fetchTournaments } from './helper';\r\n//export default const FTournament: React.FC = () => {\r\nconst FTournament = () => {\r\n  // State definition\r\n  const [selectedOption, setSelectedOption] = useState(getTodayDate());\r\n  const [tournamentList, setTournamentList] = useState([]);\r\n  let currentHistory = useHistory();\r\n\r\n  useEffect(() => fetchTournaments(setTournamentList, setSelectedOption), []);\r\n\r\n  const handleChange = selectedOption => setSelectedOption(selectedOption);\r\n  const handleCreate = selectedOption => {\r\n    setSelectedOption({ value: selectedOption, label: selectedOption });\r\n    setTournamentList(prevList => [...prevList, { value: selectedOption, label: selectedOption }]);\r\n  };\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n    const model = {\r\n      name: selectedOption.value,\r\n      ownerId: 1,\r\n      progress: 'WIP',\r\n      public: true\r\n    };\r\n    const response = await fetch('/api/tournament', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(model)\r\n    });\r\n    const res = await response.json();\r\n    if (res.message) console.log(res.message);\r\n    currentHistory.push(`/tournament/${res.id}`);\r\n  };\r\n\r\n  return (\r\n    <Card style={cardStyle}>\r\n      <Card.Body>\r\n        <Card.Title>Scegli un torneo</Card.Title>\r\n        <Form onSubmit={handleSubmit}>\r\n          <CreatableSelect\r\n            components={{ IndicatorSeparator, IndicatorsContainer }}\r\n            value={selectedOption}\r\n            options={tournamentList}\r\n            placeholder=\"Scrivi qualcosa\"\r\n            isSearchable={true}\r\n            isClearable\r\n            onChange={handleChange}\r\n            onCreateOption={handleCreate}\r\n          />\r\n          <br></br>\r\n          <Button type=\"submit\" size=\"lg\" variant=\"outline-warning\" disabled={!selectedOption}>\r\n            Continua\r\n          </Button>\r\n        </Form>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\n// TODO:\r\n// https://react-select.com/components#components\r\nconst IndicatorsContainer = props => {\r\n  return (\r\n    <div>\r\n      {/* eslint-disable-next-line */}\r\n      <components.IndicatorsContainer {...props} />\r\n    </div>\r\n  );\r\n};\r\nconst indicatorSeparatorStyle = {\r\n  alignSelf: 'stretch',\r\n  backgroundColor: 'green',\r\n  marginBottom: 8,\r\n  marginTop: 8,\r\n  marginRigth: 10,\r\n  width: 1\r\n};\r\n\r\nconst IndicatorSeparator = ({ innerProps }) => {\r\n  return <span style={indicatorSeparatorStyle} {...innerProps} />;\r\n};\r\n\r\nconst cardStyle = {\r\n  width: '50%',\r\n  margin: 'auto'\r\n};\r\n\r\nexport default FTournament;\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { textFilter, selectFilter } from 'react-bootstrap-table2-filter';\r\n\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\n\r\n// options for role column\r\nconst selectOptions = {\r\n  0: 'Portiere',\r\n  1: 'Attaccante',\r\n  2: 'Master'\r\n};\r\n\r\n// Filter\r\nlet nameFilter;\r\nlet surnameFilter;\r\nlet aliasFilter;\r\nlet roleFilter;\r\n\r\nexport function clearAllFilter() {\r\n  nameFilter('');\r\n  surnameFilter('');\r\n  aliasFilter('');\r\n  roleFilter('');\r\n}\r\n\r\n// Columns de\r\nexport default [\r\n  { dataField: 'id', text: 'ID', editable: false },\r\n  {\r\n    dataField: 'name',\r\n    text: 'Nome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (nameFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'surname',\r\n    text: 'Cognome',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (surnameFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'alias',\r\n    text: 'Alias',\r\n    headerClasses: 'player-table-header-element',\r\n    autoSelectText: true,\r\n    filter: textFilter({\r\n      placeholder: 'Filtra...',\r\n      getFilter: filter => (aliasFilter = filter)\r\n    })\r\n  },\r\n  {\r\n    dataField: 'role',\r\n    text: 'Roulo',\r\n    headerClasses: 'player-table-header-element',\r\n    filter: selectFilter({\r\n      placeholder: 'Filtra...',\r\n      options: selectOptions,\r\n      getFilter: filter => (roleFilter = filter)\r\n    }),\r\n    editor: {\r\n      type: Type.SELECT,\r\n      // FIXME:\r\n      getOptions: (setOptions, { row, column }) => {\r\n        return [\r\n          { value: 0, label: 'Portiere' },\r\n          { value: 1, label: 'Attaccante' },\r\n          { value: 2, label: 'Master' }\r\n        ];\r\n      }\r\n    }\r\n  },\r\n  { dataField: 'match_played', text: 'Partite Giocate', hidden: true },\r\n  { dataField: 'match_won', text: 'Vittorie', hidden: true },\r\n  { dataField: 'total_score', text: 'Punteggio', hidden: true }\r\n];\r\n\r\n// Custom export button\r\nexport const ExportCSVButton = props => {\r\n  return (\r\n    <Button disabled className=\"btn btn-success\" onClick={() => props.onExport()}>\r\n      Esporta in CSV\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport const fetchPlayers = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(tId ? `/api/player/list/${tId}` : '/api/player/list', {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result = await response.json();\r\n    setterFunction([\r\n      ...result.map(e => ({\r\n        id: e.id,\r\n        name: e.name,\r\n        surname: e.surname,\r\n        alias: e.alias,\r\n        label: e.alias,\r\n        role: e.role,\r\n        match_played: e.match_played,\r\n        match_won: e.match_won,\r\n        total_score: e.total_score\r\n      })),\r\n      {\r\n        id: null,\r\n        name: '',\r\n        surname: '',\r\n        alias: '',\r\n        label: 'Nessun Giocatore',\r\n        role: '',\r\n        match_played: 0,\r\n        match_won: 0,\r\n        total_score: 0\r\n      }\r\n    ]);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  let value = '';\r\n  if (selectedOption.alias) {\r\n    value = selectedOption.alias;\r\n  } else {\r\n    value = selectedOption.surname ? `${selectedOption.name} - ${selectedOption.surname}` : selectedOption.name;\r\n  }\r\n  return value;\r\n}\r\n","import { getTodayDate } from '../core/utils';\r\nimport { TournamentModel } from './type';\r\nimport { useState } from 'react';\r\n\r\nexport function fetchTournaments(setterFunction: typeof useState, setterFunction2: typeof useState): void {\r\n  (async () => {\r\n    const response = await fetch('/api/tournament/list', {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result: TournamentModel[] = await response.json();\r\n    let found = false;\r\n    let tmp = result.map(e => {\r\n      if (e.name === getTodayDate()) found = true;\r\n      return { id: e.id, value: e.name, label: e.name };\r\n    });\r\n    if (!found) tmp.unshift({ id: null, value: getTodayDate(), label: getTodayDate() });\r\n    tmp.sort();\r\n    setterFunction(tmp);\r\n    if (setterFunction2) setterFunction2(tmp[0]);\r\n  })();\r\n}\r\n\r\nexport function fetchTournament(setterFunction: typeof useState, tId: number): void {\r\n  (async () => {\r\n    const response = await fetch(`/api/tournament/${tId}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result: TournamentModel = await response.json();\r\n    setterFunction(result);\r\n  })();\r\n}\r\n\r\nexport async function getTournament(tId: number): Promise<TournamentModel | null> {\r\n  const response = await fetch(`/api/tournament/${tId}`, {\r\n    method: 'GET',\r\n    headers: { 'Content-Type': 'application/json' }\r\n  });\r\n  const result: TournamentModel = await response.json();\r\n  return response.ok ? result : null;\r\n}\r\n","import React from 'react';\r\n\r\n// FIXME: change to tounament name\r\n//const tableHeader: React.FC<{ saved: string }> = saved => {\r\nconst tableHeader: React.FC = _ => {\r\n  return (\r\n    <h3>\r\n      <b>Gestione giocatori</b>\r\n    </h3>\r\n  );\r\n};\r\n\r\nexport default tableHeader;\r\n","import React from 'react';\r\nimport { Modal, Spinner, Toast, Alert } from 'react-bootstrap';\r\n\r\ntype propsType = {\r\n  show: boolean;\r\n  message: string;\r\n  onHide?: () => void;\r\n};\r\n\r\ntype toastType = {\r\n  message: string;\r\n};\r\nexport const LoadingModal: React.FC<propsType> = ({ message, show, onHide = () => (show = false) }: propsType) => (\r\n  <Modal show={show} onHide={onHide} size=\"xl\" centered>\r\n    <Modal.Header closeButton>\r\n      <Modal.Title>Caricamento....</Modal.Title>\r\n    </Modal.Header>\r\n    <Modal.Body>{message}</Modal.Body>\r\n    <Modal.Footer>\r\n      <Spinner animation=\"border\" variant=\"light\" />\r\n      <Spinner animation=\"border\" variant=\"primary\" />\r\n      <Spinner animation=\"border\" variant=\"secondary\" />\r\n      <Spinner animation=\"border\" variant=\"success\" />\r\n      <Spinner animation=\"border\" variant=\"danger\" />\r\n      <Spinner animation=\"border\" variant=\"warning\" />\r\n      <Spinner animation=\"border\" variant=\"info\" />\r\n      <Spinner animation=\"border\" variant=\"dark\" />\r\n    </Modal.Footer>\r\n  </Modal>\r\n);\r\n\r\nexport const SuccessToast: React.FC<toastType> = ({ message }: toastType) =>\r\n  message && message !== '' ? (\r\n    <Toast className=\"rounded mr-2\" key={'success-message'} show={message !== ''}>\r\n      <Toast.Header closeButton={false}>\r\n        <strong>Operazione completata !</strong>\r\n      </Toast.Header>\r\n      <Toast.Body>\r\n        <Alert variant={'success'}>{message}</Alert>\r\n      </Toast.Body>\r\n    </Toast>\r\n  ) : null;\r\n\r\nexport const WarningToast: React.FC<toastType> = ({ message }: toastType) =>\r\n  message && message !== '' ? (\r\n    <Toast className=\"rounded mr-2\" key={'warning-message'} show={message !== ''}>\r\n      <Toast.Header closeButton={false}>\r\n        <strong>Operazione completata !</strong>\r\n      </Toast.Header>\r\n      <Toast.Body>\r\n        <Alert variant={'warning'}>{message}</Alert>\r\n      </Toast.Body>\r\n    </Toast>\r\n  ) : null;\r\n\r\nexport const ErrorToast: React.FC<toastType> = ({ message }: toastType) =>\r\n  message && message !== '' ? (\r\n    <Toast className=\"rounded mr-2\" key={'error-message'} show={message !== ''}>\r\n      <Toast.Header closeButton={false}>\r\n        <strong>Operazione completata !</strong>\r\n      </Toast.Header>\r\n      <Toast.Body>\r\n        <Alert variant={'danger'}>{message}</Alert>\r\n      </Toast.Body>\r\n    </Toast>\r\n  ) : null;\r\n","import React from 'react';\r\n// bootstrap\r\nimport { Button, Row, Col, ListGroup } from 'react-bootstrap';\r\n// react-bootstrap-table\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport filterFactory from 'react-bootstrap-table2-filter';\r\nimport ToolkitProvider from 'react-bootstrap-table2-toolkit';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\n// helper/ style\r\nimport './style.css';\r\nimport columns, { clearAllFilter, ExportCSVButton } from './helper';\r\nimport TableHeader from './header';\r\nimport { LoadingModal } from '../core/Commons';\r\n\r\nexport default class Player extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      rows: [],\r\n      selectedRows: [],\r\n      isLoading: false\r\n    };\r\n    this.handleOnSelect = this.handleOnSelect.bind(this);\r\n    this.deleteRow = this.deleteRow.bind(this);\r\n    this.addRow = this.addRow.bind(this);\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.setState({ isLoading: true }, () =>\r\n      (async () => {\r\n        console.log('Player.ComponentDidMount', this.state);\r\n        const response = await fetch('/api/player/list', {\r\n          method: 'GET',\r\n          headers: { 'Content-Type': 'application/json' }\r\n        });\r\n        const result = await response.json();\r\n        this.setState({\r\n          isLoading: false,\r\n          rows: result\r\n        });\r\n      })()\r\n    );\r\n  }\r\n\r\n  handleOnSelect = (row, isSelected) => {\r\n    this.setState(state => {\r\n      const { selectedRows } = state;\r\n      const found = selectedRows.find(e => e.id === row.id) ? true : false;\r\n      if (isSelected) {\r\n        return found ? { selectedRows: selectedRows } : { selectedRows: [row, ...selectedRows] };\r\n      } else {\r\n        return found ? { selectedRows: selectedRows.filter(e => e.id !== row.id) } : { selectedRows: selectedRows };\r\n      }\r\n    });\r\n    // return true or dont return to approve current select action\r\n    return true;\r\n  };\r\n\r\n  addRow() {\r\n    this.setState({ isLoading: true }, () =>\r\n      (async () => {\r\n        const emptyRow = {\r\n          id: null,\r\n          name: '',\r\n          surname: '',\r\n          alias: '',\r\n          role: '',\r\n          match_played: 0,\r\n          match_won: 0,\r\n          total_score: 0\r\n        };\r\n        const response = await fetch('/api/player', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(emptyRow)\r\n        });\r\n        const result = await response.json();\r\n        emptyRow.id = result.id;\r\n        this.setState(state => {\r\n          return {\r\n            rows: [emptyRow, ...state.rows],\r\n            isLoading: false\r\n          };\r\n        });\r\n      })()\r\n    );\r\n  }\r\n\r\n  deleteRow() {\r\n    const { selectedRows } = this.state;\r\n    if (!selectedRows) return;\r\n    this.setState({ isLoading: true }, () =>\r\n      (async () => {\r\n        const response = await fetch('/api/player', {\r\n          method: 'DELETE',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(selectedRows)\r\n        });\r\n        const result = await response.json();\r\n        console.table(result);\r\n        this.setState(state => {\r\n          return {\r\n            // Se la riga che sto analizzando  contenuta in quelle selezionata allora non la voglio\r\n            rows: state.rows.filter(row => !selectedRows.find(selectedRow => selectedRow.id === row.id)),\r\n            selectedRows: [],\r\n            isLoading: false\r\n          };\r\n        });\r\n      })()\r\n    );\r\n  }\r\n\r\n  cellEditProps = cellEditFactory({\r\n    mode: 'click',\r\n    blurToSave: true,\r\n    autoSelectText: true,\r\n    afterSaveCell: (oldValue, newValue, row, column) => {\r\n      (async () => {\r\n        // TODO: gestire try-catch\r\n        const response = await fetch('/api/player', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row)\r\n        });\r\n        await response.json();\r\n      })();\r\n    }\r\n  });\r\n\r\n  render() {\r\n    const { state, deleteRow, addRow } = this;\r\n    const { rows, isLoading } = state;\r\n\r\n    const selectRow = {\r\n      mode: 'checkbox',\r\n      nonSelectable: rows.filter(e => (e.editable ? false : true)).map(e => e.id),\r\n      onSelect: this.handleOnSelect,\r\n      onSelectAll: (isSelected, rows) => rows.forEach(row => this.handleOnSelect(row, isSelected)),\r\n      style: { backgroundColor: '#c8e6c9' },\r\n      selectColumnStyle: ({ checked, disabled, rowIndex, rowKey }) =>\r\n        rows[rowIndex].editable ? { backgroundColor: '#28a745' } : { backgroundColor: '#dc3545' }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <LoadingModal show={isLoading} message={'Caricamento'} />\r\n        <Row>\r\n          <Col>\r\n            <ToolkitProvider keyField=\"id\" data={rows} columns={columns} exportCSV>\r\n              {props => (\r\n                <>\r\n                  <ListGroup horizontal>\r\n                    <Button variant=\"success\" onClick={addRow}>\r\n                      Aggiungi giocatore\r\n                    </Button>\r\n                    <Button variant=\"danger\" onClick={deleteRow}>\r\n                      Calcella giocatore\r\n                    </Button>\r\n                    <Button variant=\"dark\" onClick={clearAllFilter.bind(this)}>\r\n                      Pulisci Filtri\r\n                    </Button>\r\n                  </ListGroup>\r\n\r\n                  {/* FIXME:\r\n                  <ExportCSVButton {...props.csvProps} />\r\n                  */}\r\n                  <BootstrapTable\r\n                    wrapperClasses=\"player-table\"\r\n                    keyField=\"id\"\r\n                    data={rows}\r\n                    columns={columns}\r\n                    cellEdit={this.cellEditProps}\r\n                    selectRow={selectRow}\r\n                    caption={<TableHeader />}\r\n                    filter={filterFactory()}\r\n                    headerClasses=\"player-table-header\"\r\n                    noDataIndication=\"Nessun dato reperito\"\r\n                    striped\r\n                    hover\r\n                    bootstrap4\r\n                  />\r\n                </>\r\n              )}\r\n            </ToolkitProvider>\r\n          </Col>\r\n        </Row>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { useState } from 'react';\r\nimport Select from 'react-select';\r\nimport { valueFormatter } from './helper';\r\n\r\n// Probabilmente il componente Select usa Ref.... Lascio cosi..\r\nconst PlayerSelection = React.forwardRef((props, ref) => {\r\n  const [selectedOption, setSelectedOption] = useState();\r\n  const { row, columnIndex, id, onUpdate, onSelect, options } = props;\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  function getValue() {\r\n    return valueFormatter(selectedOption);\r\n  }\r\n\r\n  const handleChange = selectedOption => {\r\n    selectedOption.pairId = id;\r\n    setSelectedOption(selectedOption);\r\n    const value = valueFormatter(selectedOption);\r\n    onUpdate(value);\r\n    onSelect(selectedOption, row.id, columnIndex);\r\n  };\r\n\r\n  return (\r\n    <Select\r\n      options={options}\r\n      onChange={handleChange}\r\n      value={selectedOption}\r\n      placeholder=\"Cerca...\"\r\n      isSearchable\r\n      isClearable\r\n    />\r\n  );\r\n});\r\n\r\nexport default PlayerSelection;\r\n","import React from 'react';\r\nimport cellEditFactory, { Type } from 'react-bootstrap-table2-editor';\r\nimport PlayerSelect from '../Player/select';\r\n\r\nexport const columns = (onSelect, options) => [\r\n  { dataField: 'id', text: 'ID', editable: false, hidden: true, align: () => 'center' },\r\n  { dataField: 'rowNumber', text: 'ID', editable: false, align: () => 'center' },\r\n  {\r\n    dataField: 'player1.alias',\r\n    text: 'Giocatore 1',\r\n    align: () => 'center',\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n      <PlayerSelect\r\n        {...editorProps}\r\n        id={columnIndex}\r\n        row={row}\r\n        rowIndex={rowIndex}\r\n        columnIndex={columnIndex}\r\n        value={value}\r\n        onSelect={onSelect}\r\n        options={options}\r\n      />\r\n    )\r\n  },\r\n  {\r\n    dataField: 'player2.alias',\r\n    text: 'Giocatore 2',\r\n    align: () => 'center',\r\n    editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n      <PlayerSelect\r\n        {...editorProps}\r\n        id={columnIndex}\r\n        row={row}\r\n        rowIndex={rowIndex}\r\n        columnIndex={columnIndex}\r\n        value={value}\r\n        onSelect={onSelect}\r\n        options={options}\r\n      />\r\n    )\r\n  },\r\n  { dataField: 'pairAlias', text: 'Alias Coppia' },\r\n  {\r\n    dataField: 'stage1Name',\r\n    text: 'Nome girone',\r\n    align: () => 'center',\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: 'abcdefghijklmnopqrstuvwxyz'\r\n        .toUpperCase()\r\n        .split('')\r\n        .map(e => {\r\n          return { value: e, label: e };\r\n        })\r\n    }\r\n  },\r\n  {\r\n    dataField: 'paid1',\r\n    text: 'Pagato 1',\r\n    align: () => 'center',\r\n    editor: {\r\n      type: Type.CHECKBOX,\r\n      value: 'Si:No'\r\n    },\r\n    /*\r\n    formatter: (cell, row, rowIndex) => {\r\n      console.log(cell);\r\n      return (\r\n        <InputGroup>\r\n          <InputGroup.Checkbox style={{ margin: 'auto' }} onCancechecked={cell}></InputGroup.Checkbox>\r\n        </InputGroup>\r\n      );\r\n    },*/\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (content !== 'Si') return { backgroundColor: '#ffbf47' };\r\n    }\r\n  },\r\n  {\r\n    dataField: 'paid2',\r\n    text: 'Pagato 2',\r\n    align: () => 'center',\r\n    editor: {\r\n      type: Type.CHECKBOX,\r\n      value: 'Si:No'\r\n    },\r\n    /*\r\n    formatter: (cell, row, rowIndex) => {\r\n      console.log(cell);\r\n      return (\r\n        <InputGroup>\r\n          <InputGroup.Checkbox style={{ margin: 'auto' }} onCancechecked={cell}></InputGroup.Checkbox>\r\n        </InputGroup>\r\n      );\r\n    },*/\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (content !== 'Si') return { backgroundColor: '#ffbf47' };\r\n    }\r\n  }\r\n];\r\n\r\nexport const cellEditProps = cellEditFactory({\r\n  mode: 'click',\r\n  blurToSave: true,\r\n  afterSaveCell: (oldValue, newValue, row, column) => {\r\n    // Aggiornamento per queste due colonne viene eseguito dalla funzione onSelect\r\n    if (column.dataField === 'player1.alias' || column.dataField === 'player2.alias') return;\r\n    (async () => {\r\n      const response = await fetch('/api/pair', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(row)\r\n      });\r\n      await response.json();\r\n    })();\r\n  }\r\n});\r\n\r\nexport function getEmptyRowModel() {\r\n  return {\r\n    id: null,\r\n    rowNumber: null,\r\n    tId: null,\r\n    player1: { id: null, alias: '', name: '', surname: '' },\r\n    player2: { id: null, alias: '', name: '', surname: '' },\r\n    pairAlias: '',\r\n    stage1Name: '',\r\n    paid1: 'No',\r\n    paid2: 'No'\r\n  };\r\n}\r\n\r\nexport const fetchPairs = (setterFunction, tId) => {\r\n  (async () => {\r\n    const response = await fetch(`/api/pair/list/?tId=${tId}`, {\r\n      method: 'GET',\r\n      headers: { 'Content-Type': 'application/json' }\r\n    });\r\n    const result = await response.json();\r\n    setterFunction(result);\r\n  })();\r\n};\r\n\r\nexport function valueFormatter(selectedOption) {\r\n  if (selectedOption.pairAlias && selectedOption.pairAlias !== '')\r\n    return `${selectedOption.pairAlias} ( ${selectedOption.id} )`;\r\n  return createAlias(selectedOption);\r\n}\r\n\r\nexport function createAlias(selectedOption) {\r\n  let value = `${selectedOption.rowNumber} : `;\r\n  const { player1, player2, id } = selectedOption;\r\n  value += player1.alias ? player1.alias : player1.name;\r\n  value += ' - ' + player2.alias ? player2.alias : player2.name;\r\n  value += ` ( ${id} )`;\r\n  return value;\r\n}\r\n\r\nexport function getEmptyPlayer() {\r\n  return {\r\n    id: null,\r\n    name: '',\r\n    surname: '',\r\n    alias: '',\r\n    label: '',\r\n    role: '',\r\n    match_played: 0,\r\n    match_won: 0,\r\n    total_score: 0\r\n  };\r\n}\r\n","import React from 'react';\r\nimport { headerPropsType } from './type';\r\n\r\nconst TableHeader: React.FC<headerPropsType> = ({ tournament }: headerPropsType) => {\r\n  return tournament ? (\r\n    <h3>\r\n      <p>\r\n        <b>\r\n          Torneo \"<strong>{tournament?.name.toUpperCase()}</strong>\" ( {tournament?.id} )\r\n        </b>\r\n      </p>\r\n    </h3>\r\n  ) : null;\r\n};\r\n\r\nexport default TableHeader;\r\n","import React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\nimport { noDataPropsType } from './type';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// FIXME: change to tounament name\r\nconst noData: React.FC<noDataPropsType> = ({ addRow, optionsLength }: noDataPropsType) => {\r\n  const MIN_PLAYERS = 8;\r\n  const players = optionsLength - 1;\r\n  const diff = players < MIN_PLAYERS ? MIN_PLAYERS - players : 0;\r\n  if (!optionsLength) return null;\r\n  return players >= MIN_PLAYERS ? (\r\n    <>\r\n      <p> Aggiungi le coppie per questo torneo...</p>\r\n      <Button variant=\"success\" onClick={addRow}>\r\n        Aggiungi Coppia\r\n      </Button>\r\n    </>\r\n  ) : (\r\n    <>\r\n      <p>Ci sono solo {players} giocatori definiti ma devono essercene almeno 8 per poter formare un torneo.</p>\r\n      <p>{diff === 1 ? 'Devi creare un altro giocatore...' : `Devi creare almeno altri ${diff}`}</p>\r\n      <Link to={'/player'}>\r\n        <Button variant=\"success\">Gestione Giocatori</Button>\r\n      </Link>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default noData;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Alert, ListGroup, InputGroup, FormControl, Row, Col, Collapse, Toast } from 'react-bootstrap';\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport { columns, cellEditProps, getEmptyRowModel, fetchPairs, getEmptyPlayer } from './helper';\r\nimport { fetchPlayers } from '../Player/helper';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport TableHeader from './header';\r\nimport NoData from './noData';\r\nimport { LoadingModal, SuccessToast, WarningToast, ErrorToast } from '../core/Commons';\r\nimport { fetchTournament } from '../Tournament/helper';\r\nimport './style.css';\r\n\r\nconst PairsTable = _ => {\r\n  // User messages\r\n  const [isLoading, setIsLoading] = useState({ state: false, message: 'Caricamento' });\r\n  const [successMessage, setSuccessMessage] = useState('');\r\n  const [allertMessage, setAllertMessage] = useState('');\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  // Tournament\r\n  const [tournament, setTournament] = useState(null);\r\n  // Table Rows\r\n  const [rows, setRows] = useState([]);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  // Players list\r\n  const [options, setOptions] = useState([]);\r\n  // Function params\r\n  const [stage1Number, setStage1Number] = useState(0);\r\n  const [newRowsNumber, setNewRowsNumber] = useState(0);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const { tId } = useParams();\r\n  let currentHistory = useHistory();\r\n\r\n  // Initial Fetch\r\n  useEffect(() => {\r\n    fetchPairs(setRows, tId);\r\n    fetchPlayers(setOptions, tId);\r\n    fetchTournament(setTournament, tId);\r\n  }, [tId]);\r\n\r\n  function showErrorMessage(message) {\r\n    setIsLoading({ state: false, message });\r\n    setErrorMessage(message);\r\n    setTimeout(() => setErrorMessage(''), 5000);\r\n  }\r\n  function showSuccessMessage(message) {\r\n    setIsLoading({ state: false, message });\r\n    setSuccessMessage(message);\r\n    setTimeout(() => setSuccessMessage(''), 5000);\r\n  }\r\n\r\n  async function addRow() {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Aggiunta riga in corso' });\r\n      const emptyRow = getEmptyRowModel();\r\n      emptyRow.tId = tId;\r\n      const response = await fetch('/api/pair', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(emptyRow)\r\n      });\r\n      const result = await response.json();\r\n      emptyRow.id = result.id;\r\n      emptyRow.rowNumber = rows.length + 1;\r\n      setRows(rows => [emptyRow, ...rows]);\r\n      showSuccessMessage('Riga aggiunta');\r\n    } catch (error) {\r\n      showErrorMessage('Errore aggiunta riga');\r\n    }\r\n  }\r\n\r\n  async function addMultipleRows() {\r\n    for (let ii = 0; ii < newRowsNumber; ii++) await addRow();\r\n    setNewRowsNumber(0);\r\n    fetchPairs(setRows, tId);\r\n  }\r\n\r\n  async function deleteRow() {\r\n    try {\r\n      setIsLoading({\r\n        state: true,\r\n        message: selectedRows.length > 1 ? 'Cancellazione righe in corso' : 'Cancellazione riga in corso'\r\n      });\r\n      // Devo ripristinare i giocatori eliminati\r\n      let players = [];\r\n      selectedRows.forEach(e => {\r\n        if (e.player1.id) players.push(e.player1);\r\n        if (e.player2.id) players.push(e.player2);\r\n      });\r\n      if (players) setOptions(current => [...players, ...current].sort((e1, e2) => e1.alias.localeCompare(e2.alias)));\r\n\r\n      const emptyRow = getEmptyRowModel();\r\n      const response = await fetch('/api/pair', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(selectedRows)\r\n      });\r\n      const result = await response.json();\r\n      emptyRow.id = result.id;\r\n      setRows(rows => rows.filter(row => !selectedRows.find(selectedRow => selectedRow.id === row.id)));\r\n      showSuccessMessage(selectedRows.length > 1 ? 'Righe cancellate' : 'Riga cancellata');\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione riga');\r\n    }\r\n    setSelectedRows([]);\r\n  }\r\n\r\n  // update players list when a player is selected\r\n  function updateOptions(player, selected) {\r\n    if (player.id)\r\n      if (selected.id)\r\n        setOptions(\r\n          [...options.filter(e => e.id !== selected.id), player].sort((e1, e2) => e1.alias.localeCompare(e2.alias))\r\n        );\r\n      else setOptions([...options, player].sort((e1, e2) => e1.alias.localeCompare(e2.alias)));\r\n    else if (selected.id) setOptions(options.filter(e => e.id !== selected.id));\r\n  }\r\n  // Aggiorno la colonna con il giocatore selezionato\r\n  const onSelect = (selectedElement, rowIndex, columnIndex) => {\r\n    const newRowsElement = rows.map(rowElement => {\r\n      if (rowElement.id === rowIndex) {\r\n        let row = rowElement;\r\n        if (columnIndex === 1) {\r\n          if (selectedElement.id && row.player2.id === selectedElement.id) {\r\n            // Devo salvare l'elemnto che sto per sostituire\r\n            row.player1 = getEmptyPlayer();\r\n            setAllertMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n            setTimeout(() => setAllertMessage(''), 5000);\r\n          } else {\r\n            // Aggiorno la lista dei giocatori disponibili prima di aggiornare i dati\r\n            updateOptions(row.player1, selectedElement);\r\n            row.player1 = selectedElement;\r\n          }\r\n        } else {\r\n          if (selectedElement.id && row.player1.id === selectedElement.id) {\r\n            row.player2 = getEmptyPlayer();\r\n            setAllertMessage('Attenzione : Non puoi selezionare lo stesso giocare ! ');\r\n            setTimeout(() => setAllertMessage(''), 5000);\r\n          } else {\r\n            updateOptions(row.player2, selectedElement);\r\n            row.player2 = selectedElement;\r\n          }\r\n        }\r\n        // update Db. Non aspetto la risposta...\r\n        fetch('/api/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row)\r\n        });\r\n        return row;\r\n      } else return rowElement;\r\n    });\r\n\r\n    setRows(newRowsElement);\r\n  };\r\n\r\n  const handleSelect = (row, isSelected) => {\r\n    setSelectedRows(selectedRows => {\r\n      const found = selectedRows.find(e => e.id === row.id) ? true : false;\r\n      if (isSelected) {\r\n        return found ? selectedRows : [row, ...selectedRows];\r\n      } else {\r\n        return found ? selectedRows.filter(e => e.id !== row.id) : selectedRows;\r\n      }\r\n    });\r\n  };\r\n\r\n  const confirmPairs = () => {\r\n    // Controllo che sia presente almeno una coppia\r\n    if (rows.length < 4) {\r\n      setErrorMessage('Numero di coppie insufficente');\r\n      setTimeout(() => setErrorMessage(''), 5000);\r\n      return;\r\n    }\r\n\r\n    // Controllo gironi non assegnati\r\n    const missingStage1Name = rows.filter(e => !e.stage1Name || e.stage1Name === '').map(e => e.rowNumber);\r\n    if (missingStage1Name.length !== 0) {\r\n      setErrorMessage(\r\n        `Assegna  ${\r\n          missingStage1Name.length === 1 ? 'la riga ' : 'le righe '\r\n        } ${missingStage1Name} ad un girone per procedere `\r\n      );\r\n      setTimeout(() => setErrorMessage(''), 5000);\r\n      return;\r\n    }\r\n\r\n    // Controllo coppie non assegnate\r\n    const missingPairs = rows.filter(e => e.player1.id === null || e.player2.id === null).map(e => e.rowNumber);\r\n    if (missingPairs.length !== 0) {\r\n      setErrorMessage(\r\n        `Assegna  i giocatori ${\r\n          missingPairs.length === 1 ? 'alla riga ' : 'alle righe '\r\n        } ${missingPairs} per procedere `\r\n      );\r\n      setTimeout(() => setErrorMessage(''), 5000);\r\n      return;\r\n    }\r\n\r\n    if (!tId) {\r\n      setErrorMessage('Id torneo mancante. Verrai inviato alla Home tra 5 secondi....');\r\n      setTimeout(() => {\r\n        setErrorMessage('');\r\n        currentHistory.push('/');\r\n      }, 5000);\r\n    }\r\n\r\n    // Controllo che non ci siano gironi con meno di 1 coppia ( meglio spostare 3 )\r\n    const MIN_PAIR_PER_STAGE = 3;\r\n    let invalidStage = [];\r\n    const pairsInStage = rows.reduce((allNames, row) => {\r\n      if (row.stage1Name in allNames) allNames[row.stage1Name]++;\r\n      else allNames[row.stage1Name] = 1;\r\n      return allNames;\r\n    }, {});\r\n    for (let stageName in pairsInStage) {\r\n      if (pairsInStage[stageName] <= MIN_PAIR_PER_STAGE) invalidStage.push(stageName);\r\n    }\r\n    if (invalidStage.length > 0) {\r\n      setErrorMessage(\r\n        invalidStage.length === 1\r\n          ? `Il torneo ${invalidStage} deve contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n          : `I torneI ${invalidStage} devono contenere almeno ${MIN_PAIR_PER_STAGE + 1} coppie`\r\n      );\r\n      setTimeout(() => {\r\n        setErrorMessage('');\r\n      }, 5000);\r\n      return;\r\n    }\r\n\r\n    // Go to Stage1\r\n    currentHistory.push(`/stage1/${tId}`);\r\n  };\r\n\r\n  function goBack() {\r\n    currentHistory.push('/');\r\n  }\r\n\r\n  const selectRow = {\r\n    mode: 'checkbox',\r\n    onSelect: handleSelect,\r\n    onSelectAll: (isSelected, rows) => rows.forEach(row => handleSelect(row, isSelected)),\r\n    style: { backgroundColor: '#c8e6c9' }\r\n  };\r\n\r\n  async function deleteStage1() {\r\n    try {\r\n      setIsLoading({ state: true, message: 'Cancellazione in corso' });\r\n      const response = await fetch('/api/stage1', {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ tId })\r\n      });\r\n      await response.json();\r\n      showSuccessMessage('Cancellazione completata');\r\n    } catch (error) {\r\n      showErrorMessage('Errore cancellazione Fase 1');\r\n    }\r\n  }\r\n\r\n  async function setStage1Name() {\r\n    if (!stage1Number) {\r\n      setErrorMessage('Specificare il numero di gironi da assegnare');\r\n      setTimeout(() => setErrorMessage(''), 5000);\r\n      return;\r\n    }\r\n    setIsLoading({ state: true, message: 'Aggiornamento in corso' });\r\n    let current = 0;\r\n    const names = 'abcdefghijklmnopqrstuvwxyz'.toUpperCase().split('');\r\n    let newRows = [];\r\n    for (let index in rows) {\r\n      let row = rows[index];\r\n      if (current == stage1Number) current = 0;\r\n      row['stage1Name'] = names[current];\r\n      current++;\r\n      try {\r\n        const response = await fetch('/api/pair', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(row)\r\n        });\r\n        const result = await response.json();\r\n        newRows.push(row);\r\n      } catch (error) {\r\n        showErrorMessage('Errore');\r\n        newRows.push(row);\r\n      }\r\n    }\r\n    showSuccessMessage('Gironi assegnati correttamente');\r\n    setRows(newRows);\r\n  }\r\n\r\n  const maxRows = Math.floor((options.length - 1) / 2);\r\n  const availableRows = maxRows - rows.length;\r\n\r\n  return (\r\n    <>\r\n      <Row>\r\n        <LoadingModal show={isLoading.state} message={isLoading.message} />\r\n        <Col style={{ margin: '10px' }} md={{ span: 1 }}>\r\n          <Row>\r\n            <ListGroup>\r\n              <ListGroup.Item action variant=\"primary\" onClick={confirmPairs}>\r\n                Prosegui\r\n              </ListGroup.Item>\r\n              <ListGroup.Item action variant=\"secondary\" onClick={goBack}>\r\n                Home\r\n              </ListGroup.Item>\r\n              <ListGroup.Item action variant=\"success\" onClick={addRow} disabled={availableRows <= 0}>\r\n                Aggiungi Coppia\r\n              </ListGroup.Item>\r\n              <ListGroup.Item action variant=\"danger\" onClick={deleteRow} disabled={!(selectedRows.length > 0)}>\r\n                Elimina Coppia\r\n              </ListGroup.Item>\r\n              <ListGroup.Item action variant=\"danger\" onClick={deleteStage1}>\r\n                Reset gironi\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Row>\r\n        </Col>\r\n        <Col style={{ margin: '10px' }}>\r\n          <Row>\r\n            <InputGroup onChange={e => setStage1Number(e.target.value)}>\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text>Assegna gironi automaticamente</InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <FormControl\r\n                placeholder={\r\n                  rows.length < 4\r\n                    ? 'Inserisci almeno 4 coppie'\r\n                    : `Numero di gironi ( max ${Math.floor(rows.length / 4)} )`\r\n                }\r\n                aria-label=\"Numero di gironi\"\r\n                disabled={rows.length < 4}\r\n              />\r\n              <InputGroup.Append>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  onClick={setStage1Name}\r\n                  disabled={!stage1Number || stage1Number > Math.floor(rows.length / 4) || rows.length < 4}\r\n                >\r\n                  Esegui\r\n                </Button>\r\n              </InputGroup.Append>\r\n            </InputGroup>\r\n            <InputGroup onChange={e => setNewRowsNumber(e.target.value)}>\r\n              <InputGroup.Prepend>\r\n                <InputGroup.Text>Aggiunti N nuove coppie</InputGroup.Text>\r\n              </InputGroup.Prepend>\r\n              <FormControl\r\n                disabled={availableRows <= 0}\r\n                placeholder={\r\n                  availableRows <= 0\r\n                    ? 'Numero massimo di coppie gia creato sulla base del numero di giocatori disponibili'\r\n                    : `Numero di coppie da aggiungere ( max ${availableRows} )`\r\n                }\r\n                aria-label=\"Numero di coppie\"\r\n                value={newRowsNumber || ''}\r\n              />\r\n              <InputGroup.Append>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  onClick={e => setNewRowsNumber(availableRows)}\r\n                  disabled={newRowsNumber > availableRows}\r\n                >\r\n                  Max\r\n                </Button>\r\n                <Button\r\n                  variant=\"primary\"\r\n                  onClick={addMultipleRows}\r\n                  disabled={!newRowsNumber || newRowsNumber > availableRows}\r\n                >\r\n                  Esegui\r\n                </Button>\r\n              </InputGroup.Append>\r\n            </InputGroup>\r\n          </Row>\r\n          <Row>\r\n            <BootstrapTable\r\n              bootstrap4\r\n              keyField=\"id\"\r\n              data={rows}\r\n              columns={columns(onSelect, options)}\r\n              cellEdit={cellEditProps}\r\n              selectRow={selectRow}\r\n              noDataIndication={<NoData addRow={addRow} optionsLength={options.length} />}\r\n              caption={<TableHeader tournament={tournament} />}\r\n              wrapperClasses=\"player-table\"\r\n              headerClasses=\"player-table-header\"\r\n              striped\r\n              hover\r\n            />\r\n          </Row>\r\n        </Col>\r\n        <Col style={{ margin: '10px' }} md={2}>\r\n          <SuccessToast message={successMessage} />\r\n          <WarningToast message={allertMessage} />\r\n          <ErrorToast message={errorMessage} />\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PairsTable;\r\n","import React from 'react';\r\nimport { headerPropsType } from './type';\r\n\r\nconst tableHeader: React.FC<headerPropsType> = ({ title, saved }: headerPropsType) => {\r\n  const divStyle = {\r\n    color: saved ? '#4feb34' : undefined\r\n  };\r\n  return (\r\n    <h3>\r\n      <b style={divStyle}>\r\n        Girone - <strong>{title}</strong>\r\n      </b>\r\n      {saved ? <small> - Salvataggio in corso...</small> : null}\r\n    </h3>\r\n  );\r\n};\r\n\r\nexport default tableHeader;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Select from 'react-select';\r\nimport { fetchPairs, valueFormatter } from './helper';\r\n\r\n// Probabilmente il componente Select usa Ref.... Lascio cosi..\r\nconst PairsSelection = React.forwardRef((props, ref) => {\r\n  const [pairsList, setPairsList] = useState([]);\r\n  const [selectedOption, setSelectedOption] = useState();\r\n  const { row, columnIndex, id, onUpdate, onSelect, tId } = props;\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  function getValue() {\r\n    return valueFormatter(selectedOption);\r\n  }\r\n\r\n  const handleChange = selectedOption => {\r\n    selectedOption.pairId = id;\r\n    setSelectedOption(selectedOption);\r\n    // vedi il campo label sul manager\r\n    const value = valueFormatter(selectedOption);\r\n    onUpdate(value);\r\n    onSelect(selectedOption, row.id, columnIndex);\r\n  };\r\n\r\n  useEffect(() => fetchPairs(setPairsList, tId), [tId]);\r\n\r\n  return (\r\n    <Select\r\n      options={pairsList}\r\n      onChange={handleChange}\r\n      value={selectedOption}\r\n      placeholder=\"Cerca...\"\r\n      isSearchable\r\n      isClearable\r\n    />\r\n  );\r\n});\r\n\r\nexport default PairsSelection;\r\n","import React from 'react';\r\nimport PairSelect from '../Pair/select';\r\nimport { Type } from 'react-bootstrap-table2-editor';\r\n\r\nexport const newColumn = (index, onChange) => {\r\n  return {\r\n    id: `col${index}`,\r\n    dataField: `col${index}`,\r\n    text: index.toString(),\r\n    type: 'number',\r\n    headerAlign: (column, colIndex) => 'center',\r\n    editable: (content, row, rowIndex, columnIndex) => rowIndex !== columnIndex - 2,\r\n    align: (cell, row, rowIndex, colIndex) => 'center',\r\n    style: (content, row, rowIndex, columnIndex) => {\r\n      if (rowIndex === columnIndex - 2) return { backgroundColor: '#6d706e' };\r\n      if (parseInt(content, 10) === 3 || parseInt(content, 10) === 2) return { backgroundColor: 'rgb(196, 247, 160)' };\r\n      if (parseInt(content, 10) === 1 || parseInt(content, 10) === 0) return { backgroundColor: 'rgb(255, 147, 147)' };\r\n      return null;\r\n    },\r\n    /* TODO:\r\n    editorStyle: (cell, row, rowIndex, colIndex) => {\r\n      console.log('editorStyle : ', cell, row, rowIndex, colIndex);\r\n      return { width: '100%', height: 'auto' };\r\n    }, */\r\n    editor: {\r\n      type: Type.SELECT,\r\n      options: [\r\n        { value: '3', label: '3' },\r\n        { value: '2', label: '2' },\r\n        { value: '1', label: '1' },\r\n        { value: '0', label: '0' },\r\n        { value: null, label: '' }\r\n      ]\r\n    }\r\n  };\r\n};\r\n\r\nexport function rowsGenerator(pairsList) {\r\n  let rows = [];\r\n  for (let ii = 0; ii < pairsList.length; ii++) {\r\n    rows.push({ pair: pairsList[ii], rowNumber: ii + 1 });\r\n    for (let jj = 1; jj <= pairsList.length; jj++) {\r\n      rows[ii][`col${jj}`] = null;\r\n    }\r\n    rows[ii]['total'] = 0;\r\n    rows[ii]['place'] = 0;\r\n    rows[ii]['id'] = `row-${pairsList[0].tId}-${ii}`;\r\n  }\r\n  //console.log(rows);\r\n  return rows;\r\n}\r\n\r\nexport const columns = (onSelect, pairsList) => {\r\n  /**\r\n   * TODO: aggiungere id su tutte le colonne\r\n   *\r\n   *     id: 'punteggio',\r\n   *     dataField: 'punteggio',\r\n   *     text: 'Punteggio',\r\n   *\r\n   *\r\n   */\r\n  let baseColumns = [\r\n    {\r\n      // Nome Coppia ( In realta contiene un oggetto di tipo Pair)\r\n      id: 'pairLabel',\r\n      dataField: 'pair.label',\r\n      text: 'Nome Coppia',\r\n      editable: false,\r\n      align: (cell, row, rowIndex, colIndex) => 'center',\r\n      headerAlign: (column, colIndex) => 'center',\r\n      editorRenderer: (editorProps, value, row, column, rowIndex, columnIndex) => (\r\n        <PairSelect\r\n          {...editorProps}\r\n          id={columnIndex}\r\n          row={row}\r\n          rowIndex={rowIndex}\r\n          columnIndex={columnIndex}\r\n          value={value}\r\n          onSelect={onSelect}\r\n          tId={pairsList[0].tId}\r\n        />\r\n      )\r\n    },\r\n    {\r\n      // Numbero riga per riferimento visivo\r\n      id: 'rowNumber',\r\n      dataField: 'rowNumber',\r\n      text: 'ID',\r\n      editable: false,\r\n      type: 'number',\r\n      headerAlign: (column, colIndex) => 'center',\r\n      style: (content, row, rowIndex, columnIndex) => {\r\n        return { backgroundColor: '#f9ffdb' };\r\n      }\r\n    }\r\n  ];\r\n\r\n  // generazione dinamica colonne intermedie\r\n  for (let ii = 0; ii < pairsList.length; ii++) {\r\n    baseColumns.push(newColumn(ii + 1));\r\n  }\r\n\r\n  baseColumns.push(\r\n    {\r\n      // Totale coppia\r\n      id: 'totale',\r\n      dataField: 'total',\r\n      text: 'Totale',\r\n      editable: false,\r\n      type: 'number',\r\n      headerAlign: (column, colIndex) => 'center'\r\n    },\r\n    {\r\n      // Posizionamento coppia\r\n      id: 'place',\r\n      dataField: 'place',\r\n      text: 'Posizione',\r\n      editable: true,\r\n      type: 'number',\r\n      headerAlign: (column, colIndex) => 'center'\r\n    }\r\n  );\r\n  return baseColumns;\r\n};\r\n\r\n/**\r\n *\r\n * @param value il valore di partenza\r\n * @returns il valore opposto a quello di partenze\r\n *\r\n *  3->0 , 2->1 , 1->2 , 0->3\r\n */\r\nexport function getOpposite(value) {\r\n  /*\r\n   * Attenzione :\r\n   *  !0 = true\r\n   *  !''  = true\r\n   *  !null   = true\r\n   *  !undefined  = true\r\n   */\r\n  if (value === null) return null;\r\n  switch (value) {\r\n    case 3:\r\n      return 0;\r\n    case 2:\r\n      return 1;\r\n    case 1:\r\n      return 2;\r\n    case 0:\r\n      return 3;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\n/**\r\n *\r\n * @param {*} obj1\r\n * @param {*} obj2\r\n */\r\nexport function comparator(obj1, obj2) {\r\n  // in caso di parit valuto scontro diretto\r\n  if (obj1.total === obj2.total) {\r\n    if (obj1[`col${obj2.rowNumber}`] === 3 || obj1[`col${obj2.rowNumber}`] === 2) {\r\n      return -1;\r\n    } else {\r\n      return 1;\r\n    }\r\n  }\r\n  return obj2.total - obj1.total;\r\n}\r\n","import React, { useState } from 'react';\r\n// table\r\nimport BootstrapTable from 'react-bootstrap-table-next';\r\nimport cellEditFactory from 'react-bootstrap-table2-editor';\r\n// helper\r\n\r\nimport TableHeader from './header';\r\nimport { getOpposite, comparator } from './helper';\r\n\r\n// style\r\nimport './style.css';\r\n\r\nconst Stage1Table = ({ rows, columns, tableName, updateCellValue, saved }) => {\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n\r\n  const cellEditProps = cellEditFactory({\r\n    mode: 'click',\r\n    blurToSave: true,\r\n    beforeSaveCell: (oldValue, newValue, row, column) => {\r\n      if (column.id.startsWith('col')) {\r\n        // Aggiorno cella opposta\r\n        rows[parseInt(column.text) - 1][`col${row.rowNumber}`] = getOpposite(newValue);\r\n        // Aggiorno posizione relativa\r\n        [...rows]\r\n          .sort((e1, e2) => comparator(e1, e2))\r\n          .forEach((row, index) => (rows[row.rowNumber - 1]['place'] = index + 1));\r\n      }\r\n    },\r\n    afterSaveCell: (oldValue, newValue, row, column) => {\r\n      if (column.id.startsWith('col')) {\r\n        // Aggiorno dati sul Db\r\n        updateCellValue(oldValue, newValue, row, column);\r\n        let acc = 0;\r\n        for (let key in row) if (key.startsWith('col')) acc += row[key];\r\n        rows[row.rowNumber - 1]['total'] = acc ? acc : null;\r\n\r\n        acc = 0;\r\n        for (let key in rows[parseInt(column.text) - 1])\r\n          if (key.startsWith('col')) acc += rows[parseInt(column.text) - 1][key];\r\n        rows[parseInt(column.text) - 1]['total'] = acc ? acc : null;\r\n      }\r\n    }\r\n  });\r\n\r\n  const handleOnSelect = (row, isSelected) => {\r\n    setSelectedRows(() => {\r\n      const found = selectedRows.find(e => e.rowNumber === row.rowNumber) ? true : false;\r\n      if (isSelected) {\r\n        return found ? selectedRows : [row, ...selectedRows];\r\n      } else {\r\n        return found ? selectedRows.filter(e => e.rowNumber !== row.rowNumber) : selectedRows;\r\n      }\r\n    });\r\n    // return true or dont return to approve current select action\r\n    return true;\r\n  };\r\n\r\n  const selectRow = {\r\n    mode: 'checkbox',\r\n    onSelect: handleOnSelect,\r\n    onSelectAll: (isSelected, rows) => rows.forEach(row => handleOnSelect(row, isSelected)),\r\n    style: { backgroundColor: '#c8e6c9' }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <BootstrapTable\r\n        bootstrap4\r\n        keyField=\"id\"\r\n        data={rows}\r\n        columns={columns}\r\n        selectRow={selectRow}\r\n        cellEdit={cellEditProps}\r\n        noDataIndication=\"Nessun dato reperito\"\r\n        wrapperClasses=\"player-table\"\r\n        headerClasses=\"player-table-header\"\r\n        caption={<TableHeader title={tableName} saved={saved} />}\r\n        striped\r\n        hover\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Stage1Table;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Stage1Table from './table';\r\nimport { handlerPropsType } from './type';\r\nimport { columns, rowsGenerator, comparator } from './helper';\r\n\r\nconst Stage1Handler = (props: handlerPropsType): JSX.Element => {\r\n  const { pairsList } = props;\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [saved, setIsSaved] = useState(false);\r\n  const [rows, setRows] = useState(rowsGenerator(pairsList));\r\n  const tableName = pairsList[0]?.stage1Name ?? 'Not found';\r\n\r\n  // Aggiornamento dati\r\n  const updateCellValue = async (oldValue: any, newValue: any, row: any, column: any) => {\r\n    const model1 = {\r\n      tId: row.pair.tId,\r\n      tableName,\r\n      score: newValue,\r\n      pair1Id: row.pair.id,\r\n      pair2Id: rows[parseInt(column.text) - 1].pair.id\r\n    };\r\n    const response = await fetch('/api/stage1/cell', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(model1)\r\n    });\r\n    await response.json();\r\n    if (response.ok) {\r\n      setIsSaved(true);\r\n      setTimeout(() => setIsSaved(false), 3000);\r\n    }\r\n  };\r\n\r\n  // Reperimento dati dal db\r\n  useEffect(\r\n    () => {\r\n      const fetchData = async () => {\r\n        setIsLoading(true);\r\n        const response = await fetch('/api/stage1', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ rows, stageName: tableName })\r\n        });\r\n        const result = await response.json();\r\n        // Ordinamento\r\n        [...result]\r\n          .sort((e1, e2) => comparator(e1, e2))\r\n          .forEach((row, index) => (result[row.rowNumber - 1]['place'] = index + 1));\r\n        setRows(result);\r\n        setIsLoading(false);\r\n      };\r\n      fetchData();\r\n    },\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    []\r\n  );\r\n  const onSelect = () => {\r\n    if (tableName === '1') console.log('onSelect ');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {/*saved ? <p>Salvato....</p> : null*/}\r\n      {isLoading ? (\r\n        <h3>\r\n          Caricamento girone <b>{tableName}</b> in corso....\r\n        </h3>\r\n      ) : (\r\n        <Stage1Table\r\n          rows={rows}\r\n          columns={columns(onSelect, pairsList)}\r\n          tableName={tableName}\r\n          updateCellValue={updateCellValue}\r\n          saved={saved}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Stage1Handler;\r\n","import FTournament from '../Tournament/Tournament';\r\nimport PlayerTable from '../Player/table';\r\nimport Pairs from '../Pair/table';\r\nimport Stage1Wrapper from '../Stage1/wrapper';\r\nimport Stage2 from '../Stage2/model';\r\nimport { OrganizationChartDemo } from '../Stage2/table';\r\n\r\n// TODO:\r\nimport * as Todo from '../DELETE/Todo';\r\n\r\ntype routeType = {\r\n  path: string;\r\n  label: string;\r\n  exact: boolean;\r\n  component: any;\r\n  visible: boolean;\r\n  index: number;\r\n};\r\n\r\n// Mappatura route\r\nexport const routes: routeType[] = [\r\n  { path: '/', label: 'Home', exact: true, component: FTournament, visible: true, index: 0 },\r\n  {\r\n    path: '/tournament/:tId',\r\n    label: 'Selezione Coppie',\r\n    exact: true,\r\n    component: Pairs,\r\n    visible: false,\r\n    index: 10\r\n  },\r\n  {\r\n    path: '/stage1/:tId',\r\n    label: 'Torneo fase 1',\r\n    exact: true,\r\n    component: Stage1Wrapper,\r\n    visible: false,\r\n    index: 20\r\n  },\r\n\r\n  {\r\n    path: '/player',\r\n    label: 'Gestione Giocatori',\r\n    exact: true,\r\n    component: PlayerTable,\r\n    visible: true,\r\n    index: 30\r\n  },\r\n  {\r\n    path: '/stage2/:tId',\r\n    label: 'Torneo fase 2',\r\n    exact: true,\r\n    component: Stage2,\r\n    //component: OrganizationChartDemo,\r\n    visible: true,\r\n    index: 40\r\n  },\r\n  // TODO: creare pagina per route not found\r\n  { path: '*', label: 'Not Found', exact: false, component: Todo.RedirectionControl, visible: false, index: 1000 }\r\n];\r\nexport default routes;\r\n\r\nexport function getLabelByPathname(pathName: string): string {\r\n  const element = routes.find(e => e.path === pathName);\r\n  return element ? element.label : `route ${pathName} not found!`;\r\n}\r\n\r\nexport function getRouteByPathname(pathName: string): routeType | undefined {\r\n  return routes.find(e => e.path === pathName);\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useHistory } from 'react-router';\r\nimport { fetchPairs } from '../Pair/helper';\r\nimport { Pair, wapperPropsType } from './type';\r\nimport Stage1Handler from './handler';\r\nimport { ListGroup, Button } from 'react-bootstrap';\r\n\r\n/**\r\n * Wraps multiple table components\r\n */\r\nconst Wrapper: React.FC<wapperPropsType> = (props: wapperPropsType): JSX.Element => {\r\n  const { tId } = useParams();\r\n  const [pairsList, setPairsList] = useState<Pair[]>([]);\r\n\r\n  let currentHistory = useHistory();\r\n  function goBack() {\r\n    currentHistory.push(`/tournament/${tId}`);\r\n  }\r\n\r\n  useEffect(() => fetchPairs(setPairsList, tId), [tId]);\r\n  // sort pairs by stage1Name\r\n  pairsList.sort((obj1, obj2) => obj1.stage1Name.localeCompare(obj2.stage1Name));\r\n  return (\r\n    <>\r\n      <ListGroup.Item key={'stage-button'}>\r\n        <Button variant=\"secondary\" onClick={goBack}>\r\n          Gestione Coppie\r\n        </Button>\r\n      </ListGroup.Item>\r\n      {renderTables(pairsList, tId)}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Wrapper;\r\n\r\nfunction renderTables(pairsList: Pair[], tId: string | undefined): JSX.Element {\r\n  let stageName = '';\r\n  let stage: Pair[] = [];\r\n  let stageList: JSX.Element[] = [];\r\n\r\n  pairsList.forEach((element, index) => {\r\n    // A rottura di stage1Name\r\n    if (stageName === '') stageName = element.stage1Name;\r\n    if (stageName !== element.stage1Name) {\r\n      stageList.push(\r\n        <ListGroup.Item key={`stage-${stageName}`}>\r\n          <Stage1Handler pairsList={stage} />\r\n        </ListGroup.Item>\r\n      );\r\n      // console.log(`stages ${stageName} :`, stage, stage.length);\r\n      stageName = element.stage1Name;\r\n      stage = [];\r\n    }\r\n    stage.push(element);\r\n  });\r\n  if (stage.length > 0) {\r\n    stageList.push(\r\n      <ListGroup.Item key={`stage-${stageName}`}>\r\n        <Stage1Handler pairsList={stage} />\r\n      </ListGroup.Item>\r\n    );\r\n    // console.log(`stages ${stageName} :`, stage);\r\n  }\r\n\r\n  return <ListGroup variant=\"flush\">{stageList}</ListGroup>;\r\n}\r\n","import React, { CSSProperties } from 'react';\r\nimport { ListGroup, InputGroup, FormControl } from 'react-bootstrap';\r\n\r\nconst Model: React.FC = _ => {\r\n  const STAGE_NUMBER = 4;\r\n\r\n  const outerStyle: CSSProperties = {\r\n    flexDirection: 'row-reverse'\r\n  };\r\n\r\n  const innerElementStyle: CSSProperties = {\r\n    flexDirection: 'column',\r\n    alignItems: 'stretch'\r\n  };\r\n\r\n  const innerParentStyle: CSSProperties = {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignContent: 'space-around'\r\n  };\r\n\r\n  let element = [];\r\n  for (let ii = 0; ii <= STAGE_NUMBER; ii++) {\r\n    let thisList = [];\r\n    for (let jj = 0; jj < Math.pow(2, ii); jj++) {\r\n      thisList.push(\r\n        <ListGroup.Item key={`item-${ii}-${jj}`} style={innerElementStyle}>\r\n          <InputGroup>\r\n            <FormControl placeholder={`${ii}-${jj}`} />\r\n          </InputGroup>\r\n        </ListGroup.Item>\r\n      );\r\n    }\r\n    element.push(\r\n      <ListGroup.Item key={`col-${ii}`} style={innerParentStyle}>\r\n        <ListGroup variant=\"flush\">{thisList}</ListGroup>\r\n      </ListGroup.Item>\r\n    );\r\n  }\r\n  return (\r\n    <ListGroup variant=\"flush\" id=\"outer-container\" style={outerStyle}>\r\n      {element}\r\n    </ListGroup>\r\n  );\r\n};\r\n\r\nexport default Model;\r\n","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n// 404 Page\r\nexport function NoMatch(): JSX.Element {\r\n  const location = useLocation();\r\n\r\n  return (\r\n    <div>\r\n      <h3>\r\n        No match for <code>{location.pathname}</code>\r\n      </h3>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function RedirectionControl(props: any): JSX.Element {\r\n  const location = useLocation();\r\n  return (\r\n    <div>\r\n      <h1>\r\n        Current Ruote : <code>{location.pathname}</code>\r\n      </h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function Home(props: any): JSX.Element {\r\n  return (\r\n    <div>\r\n      <h1> HOME PAGE </h1>\r\n      <h2>Welcome </h2>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function About(): JSX.Element {\r\n  return (\r\n    <div>\r\n      <h2>About</h2>\r\n    </div>\r\n  );\r\n}\r\n","// Style\r\nimport './Navbar.css';\r\n// React\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Navbar } from 'react-bootstrap';\r\n// import { useSessionContext } from '../core/SessionContext';\r\nimport routes from '../core/Routes';\r\n\r\nexport const FNavbar: React.FC = () => {\r\n  // const [sessionContext, updateSessionContext] = useSessionContext();\r\n  return (\r\n    <Navbar bg=\"ligth\" variant=\"light\" className=\"navbar-container\">\r\n      {/*\r\n          <Navbar.Brand href=\"#home\">\r\n        <img src={logo} alt=\"Calcetto C.S.M.\" />\r\n      </Navbar.Brand>\r\n      */}\r\n      {/* sessionContext.isAuthenticated */ true ? (\r\n        <ul className=\"navbar-list\">\r\n          {routes.map(route =>\r\n            route.visible ? (\r\n              <li key={`li-${route.index}`} className=\"navbar-list-item\">\r\n                <Link key={`link-${route.index}`} to={route.path}>\r\n                  {route.label}\r\n                </Link>\r\n              </li>\r\n            ) : null\r\n          )}\r\n        </ul>\r\n      ) : null}\r\n    </Navbar>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router';\r\nimport { useSessionContext } from '../components/core/SessionContext';\r\nimport { ProtectedRoute, ProtectedRouteProps } from '../components/core/ProtectedRoute';\r\nimport './style/App.css';\r\nimport { Login } from './Login/Login';\r\n// import { useHistory } from 'react-router-dom';\r\nimport routes from '../components/core/Routes';\r\nimport { FNavbar } from './Navbar/Navbar';\r\nimport { Container } from 'react-bootstrap';\r\nimport headerImage from './assets/header-background.jpeg';\r\nconst applicationName = 'Calcetto C.S.M';\r\n\r\nconst App: React.FC = _ => {\r\n  const [sessionContext, updateSessionContext] = useSessionContext();\r\n\r\n  const setRedirectPathOnAuthentication = (path: string) => {\r\n    updateSessionContext({ ...sessionContext, redirectPathOnAuthentication: path });\r\n  };\r\n\r\n  const defaultProtectedRouteProps: ProtectedRouteProps = {\r\n    isAuthenticated: !!sessionContext.isAuthenticated,\r\n    authenticationPath: '/login',\r\n    redirectPathOnAuthentication: sessionContext.redirectPathOnAuthentication || '',\r\n    setRedirectPathOnAuthentication\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {/** Header */}\r\n      <header className=\"app-header\">\r\n        <p>{applicationName}</p>\r\n        <FNavbar />\r\n      </header>\r\n\r\n      <br></br>\r\n      <Container fluid>\r\n        <Switch>\r\n          <Route path=\"/login\" component={Login} />\r\n          {/* Carica dinamicamente le route a partire dall'oggetto routes ( vedi sopra ) */\r\n          routes.map(route => (\r\n            <ProtectedRoute {...route} {...defaultProtectedRouteProps} key={route.index} />\r\n          ))}\r\n        </Switch>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL((process as { env: { [key: string]: string } }).env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log('No internet connection found. App is running in offline mode.');\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport 'typeface-roboto';\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { SessionContextProvider } from './components/core/SessionContext';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <SessionContextProvider>\r\n      <App />\r\n    </SessionContextProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}